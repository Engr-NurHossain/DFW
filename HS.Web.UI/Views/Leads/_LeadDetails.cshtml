@using System.Configuration
@using AppConfig = HS.Framework.Utils.AppConfig;
@{
    ViewBag.Title = "Leads Details";
    Layout = null;
    string addressdata1stLine = "";
    string addressdata2ndLine = "";
    List<HS.Entities.GridSetting> LeadGridSettings = (List<HS.Entities.GridSetting>)ViewBag.LeadUiSetting;
    List<HS.Entities.GlobalSetting> globalSetting = (List<HS.Entities.GlobalSetting>)ViewBag.CustomerUiSetting;
    List<HS.Entities.GlobalSetting> globalCustomerSetting = (List<HS.Entities.GlobalSetting>)ViewBag.CustomerSetting;
    List<HS.Entities.GridSetting> CustomerGridDetailTab = ((List<HS.Entities.GridSetting>)ViewBag.CustomerDetailTabList).Where(x => x.FormActive == true).ToList();
    List<HS.Entities.GridSetting> LeadDetailBlock = ((List<HS.Entities.GridSetting>)ViewBag.LeadDetailBlock).Where(x => x.FormActive == true).ToList();
    bool IsDFW = false;
    string IsDFWS = ConfigurationManager.AppSettings["IsDFW"];
    if (IsDFWS == "true")
    {
        IsDFW = true;
    }
    double ContractTerm = 0;
    var CurrentLoggedInUser = ((HS.Web.UI.Helper.CustomPrincipal)(User));
    var Currency = HS.Web.UI.Helper.LabelHelper.CurrentTransMakeCurrency.MakeCurrency(null);
    string DomainURL = AppConfig.DomainSitePath;
}
@using Localize = HS.Web.UI.Helper.LanguageHelper
@model HS.Entities.Customer
@using PermissionList = HS.Framework.UserPermissions;
@using PermissionChecker = HS.Web.UI.Helper.PermissionHelper;
@using HS.Framework
@using LabelHelper = HS.Web.UI.Helper.LabelHelper;
<script src="https://maps.googleapis.com/maps/api/js?key=@ViewBag.GoogleMapAPIKey"></script>
<script>
    var ConvertLeadToCustomerMsg = "@(Localize.T("Do you want to convert lead to customer?"))";
    var ConvertLeadToCustomerErrorMsg = "@(Localize.T("For converting lead to customer name and email required."))!";
    var customerId = '@Model.Id';
    var CustomerLoadId = '@Model.Id';
    var CustomerGuid = '@Model.CustomerId'; /*Needs to be removed.*/
    var CustomerLoadGuid = '@Model.CustomerId';
    var LeadId = '@Model.Id';
    var customerid = '@Model.CustomerId';
    //var customernoteid = '@*@ViewBag.CustomerNoteList*@';
    var ListQA = '@ViewBag.ObjQa';
    var tab = '@ViewBag.tab';
    var customform = '@ViewBag.CustomFormGeneration';
    var NoteId = '@ViewBag.noteid';
    var LeadTrackingTab = '@ViewBag.LeadTrackingTab';
    var ViewBagtime = '@ViewBag.time';
    var ViewBagcomplete = '@ViewBag.complete';
    var LeadV2 = 'V1';
    var DestinationCusAddress = '@Html.Raw(ViewBag.LeadDetailAddress)';
    var IsPcAppId = '@Model.CustomerExtended.IsPcApplicationId';
    @if (Model.CustomerExtended != null && Model.CustomerExtended.LeadVersion != null && Model.CustomerExtended.LeadVersion != "") {

        <text>

    LeadV2 = '@Model.CustomerExtended.LeadVersion';

    </text>

    }


    var CheckEmailWhenConvertingToCustomer = '@ViewBag.CheckEmailAddress';
    var IsLead = true;
    var EnvelopeID = '@Model.EcontractEnvlobeId';
    var CustomerName = '@(Model.Type == "Commercial" && Model.BusinessName != "" ? Model.BusinessName : string.Format("{0} {1}", Model.FirstName, Model.LastName))';

    if (CheckEmailWhenConvertingToCustomer.toLowerCase() != "true") {
        ConvertLeadToCustomerErrorMsg = "@(Localize.T("For converting lead to customer name is required."))!";
    }
    var TabsLoaderText = "<div class='invoice-loader'><div><div class='lds-css ng-scope'><div style='margin:auto; z-index:99;' class='lds-double-ring'><div></div><div></div></div></div></div></div>";
    var HistoryLoad = function (pageNo, order) {
        if (typeof (pageNo) != "undefined" && pageNo > 0) {
            var LoadUrl = domainurl + "/Customer/HistoryLogPartial/?CustomerId=" + CustomerLoadGuid + "&PageNo=" + pageNo + "&order=" + order + "&pagesize=10";
            $(".HistoryLog").html(TabsLoaderText);
            $(".HistoryLog").load(LoadUrl);
        }
    }
    $(document).ready(function () {
        console.log(LeadV2);
        document.title = CustomerName + "'s Profile";
        HistoryLoad(1, null);
    });
</script>
@Scripts.Render("~/scripts/LeadDetails")
@Styles.Render("~/styles/LeadDetails")
@*<link href="~/Content/Css/LeadDetails/LeadDetailsCustom.css" rel="stylesheet" />*@
@*<script src="~/Content/MagnificPopUp/jquery.magnific-popup.js"></script>*@
@*<link href="~/startmin/css/dataTables/DataTableMaterial.css" rel="stylesheet" />*@
@*<script src="~/Content/Js/Layout/Device.js"></script>*@

@*<script src="~/Content/Js/LeadDetails/_LeadDetails.js"></script>*@
@*<link href="~/Content/Css/LeadDetails/_LeadDetails.css" rel="stylesheet" />*@

<div class="lead_setup_partial_loader">

</div>
<div class="lead_details_container">
    <div class="lead_details_title_div">
        <div class="content-float-left lead_detail_title_left">
            <a class="bak_lead_list LoadLeadDetail" href="@(DomainURL)/Lead"><i class="fa fa-chevron-left" aria-hidden="true"></i></a>
            @*<a class="bak_lead_list back-to-leadList"> <i class="fa fa-chevron-left" aria-hidden="true"> </i> </a>*@

            @{
                if (Model.TransferCustomerId != null && Model.TransferCustomerId.HasValue && Model.TransferCustomerId.Value > 0)
                {
                    if (Model.Type == "Commercial")
                    {
                        if (!string.IsNullOrWhiteSpace(ViewBag.LeadDetailAddress))
                        {
                            if (Model.CustomerExtended != null)
                            {
                                if (Model.CustomerExtended.UnlinkCustomer == true)
                                {
                                    <p class="lead_detail_name_title left">
                                        <span class="cus_name_style">@Model.customerName </span>
                                        @if (PermissionChecker.IsPermitted(PermissionList.LeadPermissions.ShowLeadMapDirection) && (!string.IsNullOrWhiteSpace(Model.Street) || (!string.IsNullOrWhiteSpace(Model.City) && !string.IsNullOrWhiteSpace(Model.State) && !string.IsNullOrWhiteSpace(Model.ZipCode))))
                                        {
                                            <a href="javascript:void(0)" onclick="GetDirection()" id="getDirection" title="Get Direction">
                                                <img src="~/Content/Icons/direction.png" />
                                                @*<svg x="0px" y="0px" width="20" height="20" viewBox="0 0 172 172">
                                                <g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g><path d="M2.65391,86c0,-46.02344 37.32266,-83.34609 83.34609,-83.34609c46.02344,0 83.34609,37.32266 83.34609,83.34609c0,46.02344 -37.32266,83.34609 -83.34609,83.34609c-46.02344,0 -83.34609,-37.32266 -83.34609,-83.34609z" fill="#3498db"></path><path d="M34.66875,82.47266l47.43437,-29.12578c1.31016,-0.80625 2.98984,-0.83984 4.33359,-0.10078c1.34375,0.73906 2.18359,2.18359 2.18359,3.72891v58.01641c0,1.54531 -0.83984,2.95625 -2.18359,3.72891c-0.63828,0.36953 -1.37734,0.5375 -2.08281,0.5375c-0.77266,0 -1.54531,-0.20156 -2.21719,-0.63828l-47.43437,-28.89062c-1.27656,-0.77266 -2.04922,-2.15 -2.04922,-3.62813c-0.03359,-1.47812 0.73906,-2.85547 2.01563,-3.62812z" fill="#ffffff"></path><path d="M56.60547,77.09766h78.71016c2.25078,0 4.03125,1.81406 4.03125,4.03125v9.70859c0,2.25078 -1.81406,4.03125 -4.03125,4.03125h-78.71016c-2.25078,0 -4.03125,-1.81406 -4.03125,-4.03125v-9.70859c-0.03359,-2.21719 1.78047,-4.03125 4.03125,-4.03125z" fill="#ffffff"></path></g></g>
                                            </svg>*@
                                            </a>
                                        }
                                        <img class="leadMapPopup green-tooltip" data-id="@Model.Id" src="~/Content/img/location.png" style="cursor:pointer;padding: 5px;" data-toggle="tooltip" title="View Map" />
                                        <span class="lead_detail_title_address">@Html.Raw(ViewBag.LeadDetailAddress)</span>
                                    </p>
                                }
                                else
                                {
                                    <p class="lead_detail_name_title left">
                                        <span class="cus_name_style">@Model.customerName (@Localize.T("Transferred From ")<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.TransferCustomerId.HasValue ? Model.TransferCustomerId.Value : 0)" target="_blank">@(!string.IsNullOrWhiteSpace(Model.TransferCustomerName) ? Model.TransferCustomerName : "")</a>)(<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.TransferCustomerId.HasValue ? Model.TransferCustomerId.Value : 0)" target="_blank">@(Model.TransferCustomerId.HasValue ? Model.TransferCustomerId.Value : 0)</a>)</span>
                                        @if (PermissionChecker.IsPermitted(PermissionList.LeadPermissions.ShowLeadMapDirection) && (!string.IsNullOrWhiteSpace(Model.Street) || (!string.IsNullOrWhiteSpace(Model.City) && !string.IsNullOrWhiteSpace(Model.State) && !string.IsNullOrWhiteSpace(Model.ZipCode))))
                                        {
                                            <a href="javascript:void(0)" onclick="GetDirection()" id="getDirection" title="Get Direction">
                                                <img src="~/Content/Icons/direction.png" />
                                                @*<svg x="0px" y="0px" width="20" height="20" viewBox="0 0 172 172">
                                                <g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g><path d="M2.65391,86c0,-46.02344 37.32266,-83.34609 83.34609,-83.34609c46.02344,0 83.34609,37.32266 83.34609,83.34609c0,46.02344 -37.32266,83.34609 -83.34609,83.34609c-46.02344,0 -83.34609,-37.32266 -83.34609,-83.34609z" fill="#3498db"></path><path d="M34.66875,82.47266l47.43437,-29.12578c1.31016,-0.80625 2.98984,-0.83984 4.33359,-0.10078c1.34375,0.73906 2.18359,2.18359 2.18359,3.72891v58.01641c0,1.54531 -0.83984,2.95625 -2.18359,3.72891c-0.63828,0.36953 -1.37734,0.5375 -2.08281,0.5375c-0.77266,0 -1.54531,-0.20156 -2.21719,-0.63828l-47.43437,-28.89062c-1.27656,-0.77266 -2.04922,-2.15 -2.04922,-3.62813c-0.03359,-1.47812 0.73906,-2.85547 2.01563,-3.62812z" fill="#ffffff"></path><path d="M56.60547,77.09766h78.71016c2.25078,0 4.03125,1.81406 4.03125,4.03125v9.70859c0,2.25078 -1.81406,4.03125 -4.03125,4.03125h-78.71016c-2.25078,0 -4.03125,-1.81406 -4.03125,-4.03125v-9.70859c-0.03359,-2.21719 1.78047,-4.03125 4.03125,-4.03125z" fill="#ffffff"></path></g></g>
                                            </svg>*@
                                            </a>
                                        }
                                        <img class="leadMapPopup green-tooltip" data-id="@Model.Id" src="~/Content/img/location.png" style="cursor:pointer;padding: 5px;" data-toggle="tooltip" title="View Map" />
                                        <span class="lead_detail_title_address">@Html.Raw(ViewBag.LeadDetailAddress)</span>
                                    </p>
                                }
                            }
                            else
                            {
                                <p class="lead_detail_name_title left"><span class="cus_name_style">@Model.customerName (@Localize.T("Transferred From ")<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.TransferCustomerId.HasValue ? Model.TransferCustomerId.Value : 0)" target="_blank">@(!string.IsNullOrWhiteSpace(Model.TransferCustomerName) ? Model.TransferCustomerName : "")</a>)(<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.TransferCustomerId.HasValue ? Model.TransferCustomerId.Value : 0)" target="_blank">@(Model.TransferCustomerId.HasValue ? Model.TransferCustomerId.Value : 0)</a>)</span><img class="leadMapPopup green-tooltip" data-id="@Model.Id" src="~/Content/img/location.png" style="cursor:pointer;padding: 5px;" data-toggle="tooltip" title="View Map" /><span class="lead_detail_title_address">@Html.Raw(ViewBag.LeadDetailAddress)</span></p>
                            }
                        }
                        else
                        {
                            if (Model.CustomerExtended != null)
                            {
                                if (Model.CustomerExtended.UnlinkCustomer == true)
                                {
                                    <p class="lead_detail_name_title left"><span class="cus_name_style">@Model.customerName</span></p>
                                }
                                else
                                {
                                    <p class="lead_detail_name_title left"><span class="cus_name_style">@Model.customerName (@Localize.T("Transferred From ")<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.TransferCustomerId.HasValue ? Model.TransferCustomerId.Value : 0)" target="_blank">@(!string.IsNullOrWhiteSpace(Model.TransferCustomerName) ? Model.TransferCustomerName : "")</a>)(<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.TransferCustomerId.HasValue ? Model.TransferCustomerId.Value : 0)" target="_blank">@(Model.TransferCustomerId.HasValue ? Model.TransferCustomerId.Value : 0)</a>)</span></p>
                                }
                            }
                            else
                            {
                                <p class="lead_detail_name_title left"><span class="cus_name_style">@Model.customerName (@Localize.T("Transferred From ")<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.TransferCustomerId.HasValue ? Model.TransferCustomerId.Value : 0)" target="_blank">@(!string.IsNullOrWhiteSpace(Model.TransferCustomerName) ? Model.TransferCustomerName : "")</a>)(<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.TransferCustomerId.HasValue ? Model.TransferCustomerId.Value : 0)" target="_blank">@(Model.TransferCustomerId.HasValue ? Model.TransferCustomerId.Value : 0)</a>)</span></p>
                            }

                        }
                    }
                    else
                    {
                        if (Model.CustomerExtended != null)
                        {
                            if (Model.CustomerExtended.UnlinkCustomer == true)
                            {
                                <p class="lead_detail_name_title left"><span class="cus_name_style">@Model.customerName</span></p>
                            }
                            else
                            {
                                <p class="lead_detail_name_title left"><span class="cus_name_style">@Model.customerName (@Localize.T("Transferred From ")<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.TransferCustomerId.HasValue ? Model.TransferCustomerId.Value : 0)" target="_blank">@(!string.IsNullOrWhiteSpace(Model.TransferCustomerName) ? Model.TransferCustomerName : "")</a>)(<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.TransferCustomerId.HasValue ? Model.TransferCustomerId.Value : 0)" target="_blank">@(Model.TransferCustomerId.HasValue ? Model.TransferCustomerId.Value : 0)</a>)</span></p>
                            }
                        }
                        else
                        {
                            <p class="lead_detail_name_title left"><span class="cus_name_style">@Model.customerName (@Localize.T("Transferred From ")<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.TransferCustomerId.HasValue ? Model.TransferCustomerId.Value : 0)" target="_blank">@(!string.IsNullOrWhiteSpace(Model.TransferCustomerName) ? Model.TransferCustomerName : "")</a>)(<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.TransferCustomerId.HasValue ? Model.TransferCustomerId.Value : 0)" target="_blank">@(Model.TransferCustomerId.HasValue ? Model.TransferCustomerId.Value : 0)</a>)</span></p>
                        }
                    }
                }
                else if (Model.MoveCustomerId != new Guid())
                {
                    if (Model.Type == "Commercial")
                    {
                        if (!string.IsNullOrWhiteSpace(ViewBag.LeadDetailAddress))
                        {
                            if (Model.CustomerExtended != null)
                            {
                                if (Model.CustomerExtended.UnlinkCustomer == true)
                                {
                                    <p class="lead_detail_name_title left">
                                        <span class="cus_name_style">@Model.customerName </span>
                                        @if (PermissionChecker.IsPermitted(PermissionList.LeadPermissions.ShowLeadMapDirection) && (!string.IsNullOrWhiteSpace(Model.Street) || (!string.IsNullOrWhiteSpace(Model.City) && !string.IsNullOrWhiteSpace(Model.State) && !string.IsNullOrWhiteSpace(Model.ZipCode))))
                                        {
                                            <a href="javascript:void(0)" onclick="GetDirection()" id="getDirection" title="Get Direction">
                                                <img src="~/Content/Icons/direction.png" />
                                                @*<svg x="0px" y="0px" width="20" height="20" viewBox="0 0 172 172">
                                                <g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g><path d="M2.65391,86c0,-46.02344 37.32266,-83.34609 83.34609,-83.34609c46.02344,0 83.34609,37.32266 83.34609,83.34609c0,46.02344 -37.32266,83.34609 -83.34609,83.34609c-46.02344,0 -83.34609,-37.32266 -83.34609,-83.34609z" fill="#3498db"></path><path d="M34.66875,82.47266l47.43437,-29.12578c1.31016,-0.80625 2.98984,-0.83984 4.33359,-0.10078c1.34375,0.73906 2.18359,2.18359 2.18359,3.72891v58.01641c0,1.54531 -0.83984,2.95625 -2.18359,3.72891c-0.63828,0.36953 -1.37734,0.5375 -2.08281,0.5375c-0.77266,0 -1.54531,-0.20156 -2.21719,-0.63828l-47.43437,-28.89062c-1.27656,-0.77266 -2.04922,-2.15 -2.04922,-3.62813c-0.03359,-1.47812 0.73906,-2.85547 2.01563,-3.62812z" fill="#ffffff"></path><path d="M56.60547,77.09766h78.71016c2.25078,0 4.03125,1.81406 4.03125,4.03125v9.70859c0,2.25078 -1.81406,4.03125 -4.03125,4.03125h-78.71016c-2.25078,0 -4.03125,-1.81406 -4.03125,-4.03125v-9.70859c-0.03359,-2.21719 1.78047,-4.03125 4.03125,-4.03125z" fill="#ffffff"></path></g></g>
                                            </svg>*@
                                            </a>
                                        }
                                        <img class="leadMapPopup green-tooltip" data-id="@Model.Id" src="~/Content/img/location.png" style="cursor:pointer;padding: 5px;" data-toggle="tooltip" title="View Map" />
                                        <span class="lead_detail_title_address">@Html.Raw(ViewBag.LeadDetailAddress)</span>
                                    </p>
                                }
                                else
                                {
                                    <p class="lead_detail_name_title left">
                                        <span class="cus_name_style">@Model.customerName (@Localize.T("Moved From ")<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.MovedCustomerId > 0 ? Model.MovedCustomerId : 0)" target="_blank">@(!string.IsNullOrWhiteSpace(Model.MovedCustomerName) ? Model.MovedCustomerName : "")</a>)(<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.MovedCustomerId > 0 ? Model.MovedCustomerId : 0)" target="_blank">@(Model.MovedCustomerId > 0 ? Model.MovedCustomerId : 0)</a>)</span>
                                        @if (PermissionChecker.IsPermitted(PermissionList.LeadPermissions.ShowLeadMapDirection) && (!string.IsNullOrWhiteSpace(Model.Street) || (!string.IsNullOrWhiteSpace(Model.City) && !string.IsNullOrWhiteSpace(Model.State) && !string.IsNullOrWhiteSpace(Model.ZipCode))))
                                        {
                                            <a href="javascript:void(0)" onclick="GetDirection()" id="getDirection" title="Get Direction">
                                                <img src="~/Content/Icons/direction.png" />
                                                @*<svg x="0px" y="0px" width="20" height="20" viewBox="0 0 172 172">
                                                <g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g><path d="M2.65391,86c0,-46.02344 37.32266,-83.34609 83.34609,-83.34609c46.02344,0 83.34609,37.32266 83.34609,83.34609c0,46.02344 -37.32266,83.34609 -83.34609,83.34609c-46.02344,0 -83.34609,-37.32266 -83.34609,-83.34609z" fill="#3498db"></path><path d="M34.66875,82.47266l47.43437,-29.12578c1.31016,-0.80625 2.98984,-0.83984 4.33359,-0.10078c1.34375,0.73906 2.18359,2.18359 2.18359,3.72891v58.01641c0,1.54531 -0.83984,2.95625 -2.18359,3.72891c-0.63828,0.36953 -1.37734,0.5375 -2.08281,0.5375c-0.77266,0 -1.54531,-0.20156 -2.21719,-0.63828l-47.43437,-28.89062c-1.27656,-0.77266 -2.04922,-2.15 -2.04922,-3.62813c-0.03359,-1.47812 0.73906,-2.85547 2.01563,-3.62812z" fill="#ffffff"></path><path d="M56.60547,77.09766h78.71016c2.25078,0 4.03125,1.81406 4.03125,4.03125v9.70859c0,2.25078 -1.81406,4.03125 -4.03125,4.03125h-78.71016c-2.25078,0 -4.03125,-1.81406 -4.03125,-4.03125v-9.70859c-0.03359,-2.21719 1.78047,-4.03125 4.03125,-4.03125z" fill="#ffffff"></path></g></g>
                                            </svg>*@
                                            </a>
                                        }
                                        <img class="leadMapPopup green-tooltip" data-id="@Model.Id" src="~/Content/img/location.png" style="cursor:pointer;padding: 5px;" data-toggle="tooltip" title="View Map" />
                                        <span class="lead_detail_title_address">@Html.Raw(ViewBag.LeadDetailAddress)</span>
                                    </p>
                                }
                            }
                            else
                            {
                                <p class="lead_detail_name_title left">
                                    <span class="cus_name_style">@Model.customerName (@Localize.T("Moved From ")<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.MovedCustomerId > 0 ? Model.MovedCustomerId : 0)" target="_blank">@(!string.IsNullOrWhiteSpace(Model.MovedCustomerName) ? Model.MovedCustomerName : "")</a>)(<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.MovedCustomerId > 0 ? Model.MovedCustomerId : 0)" target="_blank">@(Model.MovedCustomerId > 0 ? Model.MovedCustomerId : 0)</a>)</span>
                                    @if (PermissionChecker.IsPermitted(PermissionList.LeadPermissions.ShowLeadMapDirection) && (!string.IsNullOrWhiteSpace(Model.Street) || (!string.IsNullOrWhiteSpace(Model.City) && !string.IsNullOrWhiteSpace(Model.State) && !string.IsNullOrWhiteSpace(Model.ZipCode))))
                                    {
                                        <a href="javascript:void(0)" onclick="GetDirection()" id="getDirection" title="Get Direction">
                                            <img src="~/Content/Icons/direction.png" />
                                            @*<svg x="0px" y="0px" width="20" height="20" viewBox="0 0 172 172">
                                            <g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g><path d="M2.65391,86c0,-46.02344 37.32266,-83.34609 83.34609,-83.34609c46.02344,0 83.34609,37.32266 83.34609,83.34609c0,46.02344 -37.32266,83.34609 -83.34609,83.34609c-46.02344,0 -83.34609,-37.32266 -83.34609,-83.34609z" fill="#3498db"></path><path d="M34.66875,82.47266l47.43437,-29.12578c1.31016,-0.80625 2.98984,-0.83984 4.33359,-0.10078c1.34375,0.73906 2.18359,2.18359 2.18359,3.72891v58.01641c0,1.54531 -0.83984,2.95625 -2.18359,3.72891c-0.63828,0.36953 -1.37734,0.5375 -2.08281,0.5375c-0.77266,0 -1.54531,-0.20156 -2.21719,-0.63828l-47.43437,-28.89062c-1.27656,-0.77266 -2.04922,-2.15 -2.04922,-3.62813c-0.03359,-1.47812 0.73906,-2.85547 2.01563,-3.62812z" fill="#ffffff"></path><path d="M56.60547,77.09766h78.71016c2.25078,0 4.03125,1.81406 4.03125,4.03125v9.70859c0,2.25078 -1.81406,4.03125 -4.03125,4.03125h-78.71016c-2.25078,0 -4.03125,-1.81406 -4.03125,-4.03125v-9.70859c-0.03359,-2.21719 1.78047,-4.03125 4.03125,-4.03125z" fill="#ffffff"></path></g></g>
                                        </svg>*@
                                        </a>
                                    }
                                    <img class="leadMapPopup green-tooltip" data-id="@Model.Id" src="~/Content/img/location.png" style="cursor:pointer;padding: 5px;" data-toggle="tooltip" title="View Map" />
                                    <span class="lead_detail_title_address">@Html.Raw(ViewBag.LeadDetailAddress)</span>
                                </p>
                            }

                        }
                        else
                        {
                            if (Model.CustomerExtended != null)
                            {
                                if (Model.CustomerExtended.UnlinkCustomer == true)
                                {
                                    <p class="lead_detail_name_title left"><span class="cus_name_style">@Model.customerName</span></p>
                                }
                                else
                                {
                                    <p class="lead_detail_name_title left"><span class="cus_name_style">@Model.customerName (@Localize.T("Moved From ")<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.MovedCustomerId > 0 ? Model.MovedCustomerId : 0)" target="_blank">@(!string.IsNullOrWhiteSpace(Model.MovedCustomerName) ? Model.MovedCustomerName : "")</a>)(<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.MovedCustomerId > 0 ? Model.MovedCustomerId : 0)" target="_blank">@(Model.MovedCustomerId > 0 ? Model.MovedCustomerId : 0)</a>)</span></p>
                                }
                            }
                            else
                            {
                                <p class="lead_detail_name_title left"><span class="cus_name_style">@Model.customerName (@Localize.T("Moved From ")<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.MovedCustomerId > 0 ? Model.MovedCustomerId : 0)" target="_blank">@(!string.IsNullOrWhiteSpace(Model.MovedCustomerName) ? Model.MovedCustomerName : "")</a>)(<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.MovedCustomerId > 0 ? Model.MovedCustomerId : 0)" target="_blank">@(Model.MovedCustomerId > 0 ? Model.MovedCustomerId : 0)</a>)</span></p>
                            }
                        }
                    }
                    else
                    {
                        if (Model.CustomerExtended != null)
                        {
                            if (Model.CustomerExtended.UnlinkCustomer == true)
                            {
                                <p class="lead_detail_name_title left"><span class="cus_name_style">@Model.customerName</span></p>
                            }
                            else
                            {
                                <p class="lead_detail_name_title left"><span class="cus_name_style">@Model.customerName (@Localize.T("Moved From ")<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.MovedCustomerId > 0 ? Model.MovedCustomerId : 0)" target="_blank">@(!string.IsNullOrWhiteSpace(Model.MovedCustomerName) ? Model.MovedCustomerName : "")</a>)(<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.MovedCustomerId > 0 ? Model.MovedCustomerId : 0)" target="_blank">@(Model.MovedCustomerId > 0 ? Model.MovedCustomerId : 0)</a>)</span></p>
                            }
                        }
                        else
                        {
                            <p class="lead_detail_name_title left"><span class="cus_name_style">@Model.customerName (@Localize.T("Moved From ")<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.MovedCustomerId > 0 ? Model.MovedCustomerId : 0)" target="_blank">@(!string.IsNullOrWhiteSpace(Model.MovedCustomerName) ? Model.MovedCustomerName : "")</a>)(<a class="cus-anchor" href="/Customer/Customerdetail/?id=@(Model.MovedCustomerId > 0 ? Model.MovedCustomerId : 0)" target="_blank">@(Model.MovedCustomerId > 0 ? Model.MovedCustomerId : 0)</a>)</span></p>
                        }
                    }
                }
                else
                {
                    if (Model.Type == "Commercial")
                    {
                        if (!string.IsNullOrWhiteSpace(ViewBag.LeadDetailAddress))
                        {
                            <p class="lead_detail_name_title left">
                                <span class="cus_name_style">@Model.customerName</span>
                                @if (PermissionChecker.IsPermitted(PermissionList.LeadPermissions.ShowLeadMapDirection) && (!string.IsNullOrWhiteSpace(Model.Street) || (!string.IsNullOrWhiteSpace(Model.City) && !string.IsNullOrWhiteSpace(Model.State) && !string.IsNullOrWhiteSpace(Model.ZipCode))))
                                {
                                    <a href="javascript:void(0)" onclick="GetDirection()" id="getDirection" title="Get Direction">
                                        <img src="~/Content/Icons/direction.png" />
                                        @*<svg x="0px" y="0px" width="20" height="20" viewBox="0 0 172 172">
                                        <g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g><path d="M2.65391,86c0,-46.02344 37.32266,-83.34609 83.34609,-83.34609c46.02344,0 83.34609,37.32266 83.34609,83.34609c0,46.02344 -37.32266,83.34609 -83.34609,83.34609c-46.02344,0 -83.34609,-37.32266 -83.34609,-83.34609z" fill="#3498db"></path><path d="M34.66875,82.47266l47.43437,-29.12578c1.31016,-0.80625 2.98984,-0.83984 4.33359,-0.10078c1.34375,0.73906 2.18359,2.18359 2.18359,3.72891v58.01641c0,1.54531 -0.83984,2.95625 -2.18359,3.72891c-0.63828,0.36953 -1.37734,0.5375 -2.08281,0.5375c-0.77266,0 -1.54531,-0.20156 -2.21719,-0.63828l-47.43437,-28.89062c-1.27656,-0.77266 -2.04922,-2.15 -2.04922,-3.62813c-0.03359,-1.47812 0.73906,-2.85547 2.01563,-3.62812z" fill="#ffffff"></path><path d="M56.60547,77.09766h78.71016c2.25078,0 4.03125,1.81406 4.03125,4.03125v9.70859c0,2.25078 -1.81406,4.03125 -4.03125,4.03125h-78.71016c-2.25078,0 -4.03125,-1.81406 -4.03125,-4.03125v-9.70859c-0.03359,-2.21719 1.78047,-4.03125 4.03125,-4.03125z" fill="#ffffff"></path></g></g>
                                    </svg>*@
                                    </a>
                                }
                                <img class="leadMapPopup green-tooltip" data-id="@Model.Id" src="~/Content/img/location.png" style="cursor:pointer;padding: 5px;" data-toggle="tooltip" title="View Map" />
                                <span class="lead_detail_title_address">@Html.Raw(ViewBag.LeadDetailAddress)</span>
                            </p>
                        }
                        else
                        {
                            <p class="lead_detail_name_title left"><span class="cus_name_style">@Model.customerName</span></p>
                        }
                    }
                    else
                    {

                        <p class="lead_detail_name_title left"><span class="cus_name_style">@Model.customerName</span></p>
                    }
                }
            }
            @if (!string.IsNullOrWhiteSpace(Model.EmailAddress))
            {
                <span class="btn green_button fa fa-envelope left custom-envelope btn-envelope" style="cursor:pointer;" data-toggle="tooltip" title="@Model.EmailAddress"></span>
            }
            @if (!string.IsNullOrWhiteSpace(Model.PrimaryPhone))
            {
                <span class="btn green_button fa fa-phone left custom-envelope btn-envelope" style="cursor:pointer;" data-toggle="tooltip" title="@HS.Web.UI.Helper.LabelHelper.PhoneNumFormat.Format(@Model.PrimaryPhone)"></span>
            }
            else if (!string.IsNullOrWhiteSpace(Model.SecondaryPhone))
            {
                <span class="btn green_button fa fa-phone left custom-envelope btn-envelope" style="cursor:pointer;" data-toggle="tooltip" title="@HS.Web.UI.Helper.LabelHelper.PhoneNumFormat.Format(@Model.SecondaryPhone)"></span>
            }
            @*else if (!string.IsNullOrWhiteSpace(Model.CellNo))
        {
            <span class="btn green_button fa fa-phone left custom-envelope btn-envelope" style="cursor:pointer;" data-toggle="tooltip" title="@Model.CellNo"></span>
        }*@
            @if (!string.IsNullOrWhiteSpace(Model.CellNo))
            {
                <span class="btn green_button left custom_phone_icon_style btn-envelope" style="cursor:pointer;" data-toggle="tooltip" title="@HS.Web.UI.Helper.LabelHelper.PhoneNumFormat.Format(@Model.CellNo)">
                    <svg xmlns="" x="0px" y="0px"
                         width="25" height="25"
                         viewBox="0 0 172 172"
                         style=" fill:#000000;">
                        <g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#ffffff"><path d="M126.04375,-0.07839c-3.16203,0.04943 -5.68705,2.6496 -5.64375,5.81172v5.73333h-68.8c-6.33533,0 -11.46667,5.13133 -11.46667,11.46667v126.13333c0,6.33533 5.13133,11.46667 11.46667,11.46667h68.8c6.33533,0 11.46667,-5.13133 11.46667,-11.46667v-126.13333v-11.46667v-5.73333c0.02122,-1.54972 -0.58581,-3.04203 -1.68279,-4.1369c-1.09698,-1.09487 -2.59045,-1.69903 -4.14013,-1.67482zM51.6,22.93333h68.8v34.4h-68.8zM63.06667,80.26667c3.1648,0 5.73333,2.56853 5.73333,5.73333c0,3.1648 -2.56853,5.73333 -5.73333,5.73333c-3.1648,0 -5.73333,-2.56853 -5.73333,-5.73333c0,-3.1648 2.56853,-5.73333 5.73333,-5.73333zM86,80.26667c3.1648,0 5.73333,2.56853 5.73333,5.73333c0,3.1648 -2.56853,5.73333 -5.73333,5.73333c-3.1648,0 -5.73333,-2.56853 -5.73333,-5.73333c0,-3.1648 2.56853,-5.73333 5.73333,-5.73333zM108.93333,80.26667c3.1648,0 5.73333,2.56853 5.73333,5.73333c0,3.1648 -2.56853,5.73333 -5.73333,5.73333c-3.1648,0 -5.73333,-2.56853 -5.73333,-5.73333c0,-3.1648 2.56853,-5.73333 5.73333,-5.73333zM63.06667,103.2c3.1648,0 5.73333,2.56853 5.73333,5.73333c0,3.1648 -2.56853,5.73333 -5.73333,5.73333c-3.1648,0 -5.73333,-2.56853 -5.73333,-5.73333c0,-3.1648 2.56853,-5.73333 5.73333,-5.73333zM86,103.2c3.1648,0 5.73333,2.56853 5.73333,5.73333c0,3.1648 -2.56853,5.73333 -5.73333,5.73333c-3.1648,0 -5.73333,-2.56853 -5.73333,-5.73333c0,-3.1648 2.56853,-5.73333 5.73333,-5.73333zM108.93333,103.2c3.1648,0 5.73333,2.56853 5.73333,5.73333c0,3.1648 -2.56853,5.73333 -5.73333,5.73333c-3.1648,0 -5.73333,-2.56853 -5.73333,-5.73333c0,-3.1648 2.56853,-5.73333 5.73333,-5.73333zM63.06667,126.13333c3.1648,0 5.73333,2.56853 5.73333,5.73333c0,3.1648 -2.56853,5.73333 -5.73333,5.73333c-3.1648,0 -5.73333,-2.56853 -5.73333,-5.73333c0,-3.1648 2.56853,-5.73333 5.73333,-5.73333zM86,126.13333c3.1648,0 5.73333,2.56853 5.73333,5.73333c0,3.1648 -2.56853,5.73333 -5.73333,5.73333c-3.1648,0 -5.73333,-2.56853 -5.73333,-5.73333c0,-3.1648 2.56853,-5.73333 5.73333,-5.73333zM108.93333,126.13333c3.1648,0 5.73333,2.56853 5.73333,5.73333c0,3.1648 -2.56853,5.73333 -5.73333,5.73333c-3.1648,0 -5.73333,-2.56853 -5.73333,-5.73333c0,-3.1648 2.56853,-5.73333 5.73333,-5.73333z"></path></g></g>
                    </svg>
                </span>
            }
            @if (!PermissionChecker.IsPermitted(PermissionList.UserMgmtPermissions.CustomerViewOnly) || Model.Soldby == CurrentLoggedInUser.UserId.ToString())
            {
                <button class="btn lead_add_note_btn" data-toggle="tooltip" title="@Localize.T("Add Note")" onclick="OpenAddNote()"><i class="fa fa-plus-circle"></i>@Localize.T(" Note")</button>
            }
@if (PermissionChecker.IsPermitted(PermissionList.CustomerPermissions.MarkClientorLeadasTestAccount))
{
            <label class="test_acc_style"><input type="checkbox" id="IsTestAccount" @((Model.CustomerExtended.IsTestAccount.HasValue && Model.CustomerExtended.IsTestAccount.Value) ? "checked" : "") /> @Localize.T("Test Account")</label>
}
            @if (PermissionChecker.IsPermitted(PermissionList.LeadPermissions.LeadEdit))
            {
                if (!PermissionChecker.IsPermitted(PermissionList.UserMgmtPermissions.CustomerViewOnly) || Model.Soldby == CurrentLoggedInUser.UserId.ToString())
                {
                    if (globalCustomerSetting.Where(x => x.SearchKey == "LeadConvertToSale").Count() > 0 && globalCustomerSetting.Where(x => x.SearchKey == "LeadConvertToSale").FirstOrDefault().Value.ToLower() == "true")
                    {
                        if (PermissionChecker.IsPermitted(PermissionList.LeadPermissions.ShowLeadConvertToSale))
                        {
                            <button type="button" id="leadToCustomerConvert" data-id="@Model.Id" idval="@Model.CustomerId" idval1="@Model.FirstName @Model.LastName" idval2="@Model.EmailAddress" class="btn green_button leadToCustomerConvert float-right">
                                <i class="fa fa-copy"></i> @Localize.T("Convert To Sale")
                            </button>
                        }
                    }
                    if (globalSetting.Where(x => x.SearchKey == "LeadSmartSetUp").Count() > 0 && globalSetting.Where(x => x.SearchKey == "LeadSmartSetUp").FirstOrDefault().Value.ToLower() == "true" && PermissionChecker.IsPermitted(PermissionList.LeadPermissions.LeadSmartSetup))
                    {
                        <button class="btn green_button btnLeadSetup" id="btnSmartLeadSetup" data-id="@Model.Id">@Localize.T("Customer Smart Setup")</button>
                    }
                    if (PermissionChecker.IsPermitted(PermissionList.LeadPermissions.SendEcontractToBrinks))
                    {
                        if (!string.IsNullOrEmpty(Model.EcontractId))
                        {
                            <button class="btn green_button btnEcontract" id="btnEcontract" data-id="@Model.Id">@Localize.T("Get Econtract")</button>
                        }

                    }
                }
            }
        </div>



    </div>
    <div class="detail-contents lead_details_tabs">
        <div class="nav-detail-contents ld_nav">
            <ul class="nav nav-tabs lead_detail_tab_list" id="myTab">
                @*<li class="active"><a data-target="#customerDetails" data-toggle="tab">@Localize.T("Detail")</a></li>*@
                @if (PermissionChecker.IsPermitted(PermissionList.LeadPermissions.LeadCreateReport))
                {
                    <li class="active LoadLeadDetail"><a tabname="#LeadDetailTab" href="#LoadLeadDetail" data-toggle="tab">@Localize.T("Lead Detail")</a></li>
                }
                @foreach (var tab in CustomerGridDetailTab)
                {
                    if (tab.SelectedColumn == "Tab->Estimate Tab" && PermissionChecker.IsPermitted(PermissionList.CustomerPermissions.CustomerEstimate))
                    {
                        <li class="LeadEstimate"><a tabname="#LeadEstimateTab" href="#LeadEstimate" data-toggle="tab" onclick="OpenLeadEstimateTab()">@Localize.T("Estimates")<span class="lead_estimate">@(Model.LeadDetailTabCountModel.LeadEstimate.LeadEstimateCount > 0 ? string.Format("({0})", Model.LeadDetailTabCountModel.LeadEstimate.LeadEstimateCount) : "")</span></a></li>
                    }
                    else if (tab.SelectedColumn == "Tab->Note Tab")
                    {
                        <li class="followUpTab"><a tabname="#LeadFollowUpTab" href="#followUpTab" data-toggle="tab" onclick="openLeadNoteTab()">@Localize.T("Notes/Reminders")<span class="lead_note">@(Model.LeadDetailTabCountModel.LeadNote.LeadNoteCount > 0 ? string.Format("({0})", Model.LeadDetailTabCountModel.LeadNote.LeadNoteCount) : "")</span></a></li>
                    }
                    else if (tab.SelectedColumn == "Tab->Correspondence Tab")
                    {
                        <li class="sendEmailToCorrespondance"><a tabname="#LeadEmailToCorrespondanceTab" href="#sendEmailToCorrespondance" id="CorrespondanceTabHead" data-toggle="tab">@Localize.T("Correspondence")<span class="lead_corres">@(Model.LeadDetailTabCountModel.LeadCorrespondence.LeadCorresCount > 0 ? string.Format("({0})", Model.LeadDetailTabCountModel.LeadCorrespondence.LeadCorresCount) : "")</span></a></li>
                    }
                    else if (tab.SelectedColumn == "Tab->Files Tab")
                    {
                        <li><a tabname="#LeadDocumentCenterTab" href="#DocumentCenterTab" onclick="OpenLeadDocumentCenterTab()" data-toggle="tab">@Localize.T("Files/Documents")<span class="lead_file">@(Model.LeadDetailTabCountModel.LeadFile.LeadFileCount > 0 ? string.Format("({0})", Model.LeadDetailTabCountModel.LeadFile.LeadFileCount) : "")</span></a></li>
                    }
                    else if (tab.SelectedColumn == "Tab->Book Tab")
                    {
                        <li><a tabname="#BookingTab" href="#BookingTab" onclick="OpenLeadBookTab()" data-toggle="tab">@Localize.T("Book")<span class="lead_booking">@(Model.LeadDetailTabCountModel.LeadFile.LeadFileCount > 0 ? string.Format("({0})", Model.LeadDetailTabCountModel.Booking.BookingCount) : "")</span></a></li>
                    }
                    else if (tab.SelectedColumn == "Tab->Ticket Tab" && PermissionChecker.IsPermitted(PermissionList.LeadPermissions.ShowLeadTicket))
                    {
                        <li><a tabname="#TicketTab" href="#TicketTab" onclick="OpenTicketTab()" data-toggle="tab">@Localize.T("Tickets")<span class="lead_ticket">@(Model.LeadDetailTabCountModel.LeadFile.LeadFileCount > 0 ? string.Format("({0})", Model.LeadDetailTabCountModel.TicketCount) : "")</span></a></li>
                    }
                    else if (tab.SelectedColumn == "Tab->Estimator Tab")
                    {
                        <li><a tabname="#EstimatorTab" href="#EstimatorTab" onclick="OpenEstimatorTab()" data-toggle="tab">@Localize.T("Estimators")<span class="lead_estimator">@(Model.LeadDetailTabCountModel.EstimatorCount > 0 ? string.Format("({0})", Model.LeadDetailTabCountModel.EstimatorCount) : "")</span></a></li>

                    }
                    else if (tab.SelectedColumn == "Tab->ISPC Tab")
                    {

                        <li>
                            <a tabname="#ISPCTab" href="#ISPCTab" data-toggle="tab" onclick="OpenISPCTab()">@Localize.T("ISPC")</a>
                        </li>

                    }
                    else if (tab.SelectedColumn == "Tab->Log Tab")
                    {
                        <li><a tabname="#LogTab" href="#LogTab" onclick="OpenLogTab()" data-toggle="tab">@Localize.T("Logs")<span class="lead_log">@(Model.LeadDetailTabCountModel.LogCount > 0 ? string.Format("({0})", Model.LeadDetailTabCountModel.LogCount) : "")</span></a></li>

                    }

                }
                @if (ViewBag.LeadTrackingTab == true)
                {
                    <li><a tabname="#LeadTrackingTab" href="#TrackingTab" data-toggle="tab">@Localize.T("Tracking")</a></li>
                }
            </ul>

            <div class="tab-content lead-tabcontent">

                <div class="tab-pane active " id="LoadLeadDetail">
                    <div class="lead_details_info_container">
                        <div class="lead_details_info_left">

                            @if (PermissionChecker.IsPermitted(PermissionList.LeadPermissions.LeadDetailsPersonalInfo))
                            {
                                <div class="lead_subTab_left_content">
                                    @{
                                        if (LeadDetailBlock.Where(x => x.SelectedColumn == "Personal Information").Count() > 0 && Model != null)
                                        {
                                            if (Model.FirstName != "" || Model.LastName != "" || Model.BusinessName != "" || Model.PrimaryPhone != "" || Model.SSN != "" || Model.Street != "" || Model.City != "" || Model.State != "" || Model.ZipCode != "")
                                            {
                                                <div class="li_info_block">

                                                    <div class="li_header">
                                                        @Localize.T("Personal Information")
                                                        @if (!PermissionChecker.IsPermitted(PermissionList.UserMgmtPermissions.CustomerViewOnly) || Model.Soldby == CurrentLoggedInUser.UserId.ToString())
                                                        {

                                                            if (PermissionChecker.IsPermitted(PermissionList.LeadPermissions.LeadEdit))
                                                            {
                                                                if (PermissionChecker.IsPermitted(PermissionList.LeadPermissions.LeadCreateV2))
                                                                {
                                                                    <button class="Personaledit btn green-tooltip green_button" href="javascript:void(0)" id="editCustomerCustomerDetailsHeader1" idval="@Model.Id" version="V2" data-toggle="tooltip" title="@Localize.T("Edit Lead")"><i class="fa fa-edit" aria-hidden="true"></i></button>
                                                                }
                                                                else
                                                                {
                                                                    <button class="Personaledit btn green-tooltip green_button" href="javascript:void(0)" id="editCustomerCustomerDetailsHeader1" idval="@Model.Id" version="V1" data-toggle="tooltip" title="@Localize.T("Edit Lead")"><i class="fa fa-edit" aria-hidden="true"></i></button>
                                                                }


                                                                <button class="Personaledit btn editCustomerCustomerDetailsHeader2 hidden" href="javascript:void(0)" id="editCustomerCustomerDetailsHeader2" idval="@Model.Id"><i class="fa fa-cube" aria-hidden="true"></i></button>
                                                            }

                                                            if (Model.CustomerMigration != null)
                                                            {
                                                                <button type="button" @*id="editCustomerCustomerDetailsHeader"*@ idval="@Model.Id" class="btn edit-button MigrationData green-tooltip green_button" data-toggle="tooltip" style="float:right;margin-right:10px;" title="Platform">@Model.CustomerMigration.Platform</button>
                                                            }
                                                            if (PermissionChecker.IsPermitted(PermissionList.CustomerPermissions.CustomerInfoShare))
                                                            {
                                                                <button type="button" @*onclick="ShareCustomerInfo('@Model.Id')"*@ idval="@Model.Id" data-id="@Model.Id" class="btn edit-button LeadInfoShare Personaledit green_button" title="Lead Info Share">
                                                                    <i class="fa fa-share-alt"></i>
                                                                </button>

                                                            }
                                                        }
                                                    </div>

                                                    <div class="li_info_details_block">
                                                        @foreach (var item in LeadGridSettings)
                                                        {
                                                            if (item.SelectedColumn == "BusinessName" && Model.BusinessName != "")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Business Name")</label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.BusinessName
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "Title" && !string.IsNullOrWhiteSpace(Model.Title))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Title")</label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.Title
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "MiddleName" && !string.IsNullOrWhiteSpace(Model.MiddleName))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Middle Name")</label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.MiddleName
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "FirstName" && (Model.FirstName != "" || Model.LastName != ""))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Name")</label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.FirstName @Model.LastName
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "Type" && !string.IsNullOrWhiteSpace(Model.LeadSiteType))
                                                            {
                                                                @*if (Model.LeadSiteType == null)
                {
                <div class="li_info_details_row custom_row_style">
                    <div class="li_info_details_left">
                        <label>@Localize.T("Type")</label>
                    </div>
                    <div class="li_info_details_right">
                        <span>:</span>ViewBag.DefaultLeadSiteType
                    </div>
                </div>
                }
                else { *@
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Type")</label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.LeadSiteType
                                                                    </div>
                                                                </div>
                                                                //}
                                                            }
                                                            else if (item.SelectedColumn == "DBA" && Model.DBA != "")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Doing Business As") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.DBA
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "InstalledStatus" && !string.IsNullOrWhiteSpace(Model.InstalledStatus) && Model.InstalledStatus != "-1")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Installed Status") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.InstalledStatus
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "PrimaryPhone" && Model.PrimaryPhone != "")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Site Phone")</label>
                                                                        @if (Model.IsPrimaryPhoneVerified == true)
                                                                        {
                                                                            <span title="Email address is verified." style="color: #2ca01c;font-size:16px; position:absolute; top:-1px; margin-left:5px;"> <i class="fa fa-check-circle"></i></span>

                                                                        }
                                                                        else
                                                                        {
                                                                            <span title="Please verify the email address." style="color: #d9534f; font-size:16px; position:absolute; top:-1px; margin-left:5px;"> <i class="fa fa-times-circle"></i></span>

                                                                        }

                                                                    </div>

                                                                    <div class="li_info_details_right">
                                                                        <span>:</span><a class="cus-anchor" href="tel:@Model.PrimaryPhone">@HS.Web.UI.Helper.LabelHelper.PhoneNumFormat.Format(@Model.PrimaryPhone)</a>
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "CellNo" && Model.CellNo != "")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Cell Phone")</label>
                                                                        @if (Model.IsCellNoVerified == true)
                                                                        {
                                                                            <span title="Cell phone is verified." style="color: #2ca01c;font-size:16px; position:absolute; top:-1px; margin-left:5px;"> <i class="fa fa-check-circle"></i></span>

                                                                        }
                                                                        else
                                                                        {
                                                                            <span title="Please verify the Cell phone." style="color: #d9534f; font-size:16px; position:absolute; top:-1px; margin-left:5px;"> <i class="fa fa-times-circle"></i></span>

                                                                        }

                                                                    </div>

                                                                    <div class="li_info_details_right">
                                                                        <span>:</span><a class="cus-anchor" href="tel:@Model.CellNo">@HS.Web.UI.Helper.LabelHelper.PhoneNumFormat.Format(@Model.CellNo)</a>
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "SecondaryPhone" && !string.IsNullOrWhiteSpace(Model.SecondaryPhone))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Secondary Phone")</label>
                                                                        @if (Model.IsSecondaryPhoneVerified == true)
                                                                        {
                                                                            <span title="Email address is verified." style="color: #2ca01c;font-size:16px; position:absolute; top:-1px; margin-left:5px;"> <i class="fa fa-check-circle"></i></span>

                                                                        }
                                                                        else
                                                                        {
                                                                            <span title="Please verify the email address." style="color: #d9534f; font-size:16px; position:absolute; top:-1px; margin-left:5px;"> <i class="fa fa-times-circle"></i></span>

                                                                        }

                                                                    </div>

                                                                    <div class="li_info_details_right">
                                                                        <span>:</span><a class="cus-anchor" href="tel:@Model.SecondaryPhone">@HS.Web.UI.Helper.LabelHelper.PhoneNumFormat.Format(@Model.SecondaryPhone)</a>
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "PhoneType" && Model.PhoneType != "" && Model.PhoneType != "-1")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Phone Type") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.PhoneType
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "EmailAddress" && Model.EmailAddress != "")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Email Address")</label>
                                                                        @if (Model.EmailVerified == true)
                                                                        {
                                                                            <span title="Email address is verified." style="color: #2ca01c;font-size:16px; position:absolute; top:-1px; margin-left:5px;"> <i class="fa fa-check-circle"></i></span>

                                                                        }
                                                                        else
                                                                        {
                                                                            <span title="Please verify the email address." style="color: #d9534f; font-size:16px; position:absolute; top:-1px; margin-left:5px;"> <i class="fa fa-times-circle"></i></span>

                                                                        }

                                                                    </div>
                                                                    @if (Model.EmailVerified == true)
                                                                    {
                                                                        <div class="li_info_details_right green-tooltip" id="isVerifyEmail" onmouseover="ShowTag('Verified')" data-toggle="tooltip" data-placement="left"> <span>:</span><a class="cus-anchor" onclick="AddCorrespondenceEmail('@Model.Id')">@Model.EmailAddress</a></div>
                                                                    }
                                                                    else
                                                                    {
                                                                        <div class="li_info_details_right red-tooltip" id="isVerifyEmail" onmouseover="ShowTag('Not Verified')" data-toggle="tooltip" data-placement="left"> <span>:</span><a class="cus-anchor" onclick="AddCorrespondenceEmail('@Model.Id')">@Model.EmailAddress</a></div>

                                                                    }

                                                                </div>

                                                            }
                                                            else if (item.SelectedColumn == "HomeOwner")
                                                            {
                                                                if (!string.IsNullOrEmpty(Model.HomeOwner))
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Home Owner") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right ld_text_style_custom">
                                                                            <span>:</span>@Model.HomeOwner.ToLower()
                                                                        </div>
                                                                    </div>
                                                                }
                                                            }
                                                            else if (item.SelectedColumn == "SalesLocation")
                                                            {
                                                                if (!string.IsNullOrEmpty(Model.SelesLocationVal) && Model.SelesLocationVal != "-1")
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Sales Location") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Model.SelesLocationVal
                                                                        </div>
                                                                    </div>
                                                                }
                                                            }
                                                            else if (item.SelectedColumn == "DateofBirth" && Model.DateofBirth != null && Model.DateofBirth.Value.ToString("MM/dd/yy") != "01/01/00")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Date Of Birth") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.DateofBirth.Value.ToString("MM/dd/yy")
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "SSN" && Model.SSN != "")
                                                            {
                                                                var SSN = "";
                                                                if (!string.IsNullOrEmpty(Model.SSN) && Model.SSN.Length > 4)
                                                                {
                                                                    string Number = Model.SSN.Replace("-", "");
                                                                    var FormateSSN = Number.Substring(Number.Length - 4);
                                                                    int SSNInt = 0;
                                                                    if (Int32.TryParse(FormateSSN, out SSNInt) && SSNInt > 0)
                                                                    {
                                                                        SSN = String.Format("{0:XXX-XX-0000}", SSNInt);
                                                                    }
                                                                }
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("SSN") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        @if (PermissionChecker.IsPermitted(PermissionList.CustomerPermissions.ShowSSNFullNumber))
                                                                        {
                                                                            <span>:</span>@Model.SSN
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>:</span>@SSN
                                                                        }
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "CustomerNo" && !string.IsNullOrWhiteSpace(Model.CustomerNo))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Customer No") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.CustomerNo
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "AccountNo" && !string.IsNullOrWhiteSpace(Model.AccountNo))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Account No") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.AccountNo
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "Passcode" && !string.IsNullOrWhiteSpace(Model.Passcode))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Passcode") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.Passcode
                                                                    </div>
                                                                </div>
                                                            }

                                                            else if (item.SelectedColumn == "AgreementEmail" && !string.IsNullOrWhiteSpace(Model.AgreementEmail))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Agreement Email") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.AgreementEmail
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "MapscoNo" && !string.IsNullOrWhiteSpace(Model.MapscoNo) && PermissionChecker.IsPermitted(PermissionList.CustomerPermissions.MapscoNoPermission))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Mapsco Number") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.MapscoNo
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "AgreementPhoneNo" && !string.IsNullOrWhiteSpace(Model.AgreementPhoneNo))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Agreement PhoneNo") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@HS.Web.UI.Helper.LabelHelper.PhoneNumFormat.Format(@Model.AgreementPhoneNo)
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "Street" && Model.Street != "")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Street Address") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.Street
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "CrossStreet" && Model.CrossStreet != "")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Cross Street") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.CrossStreet
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "StreetType" && (Model.StreetType != "-1" && Model.StreetType != ""))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Street Type") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.StreetType
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "Appartment" && Model.Appartment != "")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        @*<label>@Localize.T("Appartment")</label>*@
                                                                        <label>@Localize.T("Apt/Suite") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.Appartment
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "Address2" && Model.Address2 != "")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Present Address") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.Address2
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "City" && (Model.City != "" || Model.State != "" || Model.ZipCode != ""))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("City, ST, Zip") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right citystate">
                                                                        <span>:</span>@ViewBag.LeadDetailAddress1
                                                                        <img class="leadMapPopup" data-id="@Model.Id" src="~/Content/img/location.png" style="float:right;padding-right:10px;padding-top:5px;cursor:pointer;" />
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "County" && Model.County != "")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("County")</label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.County

                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "Note" && !string.IsNullOrWhiteSpace(Model.Note))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Note") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right li_info_note" title="@Model.Note">
                                                                        <span>:</span>@Model.Note
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "LeadSource" && (!string.IsNullOrWhiteSpace(Model.LeadSourceVal) && Model.LeadSource != "-1"))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Lead Source") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>
                                                                        @(string.IsNullOrWhiteSpace(Model.LeadSourceParentVal) ? "" : Model.LeadSourceParentVal + " -> ")
                                                                        @Model.LeadSourceVal
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "LeadSourceType" && PermissionChecker.IsPermitted(PermissionList.LeadPermissions.LeadSourceType))
                                                            {
                                                                if (!string.IsNullOrEmpty(Model.LeadSourceType) && Model.LeadSourceType != "-1")
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Lead Source Type") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Model.LeadSourceType
                                                                        </div>
                                                                    </div>
                                                                }
                                                            }
                                                            else if (item.SelectedColumn == "Lead Status" && !string.IsNullOrWhiteSpace(Model.Status) && Model.Status != "-1" && Model.Status != "Select One")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Lead Status") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.StatusVal
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "Soldby" && !string.IsNullOrWhiteSpace(Model.Soldby))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Sales Person") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.PersonSales
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "SoldBy2" && !string.IsNullOrWhiteSpace(Model.SoldBy2Text))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Sales Person 2") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.SoldBy2Text
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "SoldBy3" && !string.IsNullOrWhiteSpace(Model.SoldBy3Text))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Sales Person 3") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.SoldBy3Text
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "InspectionCompany" && !string.IsNullOrWhiteSpace(Model.InspectionCompany))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Inspection Company") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.InspectionCompany
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "BranchId" && Model.CompanyBranch != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Branch") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right"><span>:</span><strong>@Model.CompanyBranch.Name</strong></div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "AccessGivenTo")
                                                            {
                                                                if (!string.IsNullOrEmpty(Model.AccessGivenToVal))
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Access Given To") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right"><span>:</span>@Model.AccessGivenToVal</div>
                                                                    </div>
                                                                }
                                                            }
                                                            else if (item.SelectedColumn == "LeadType" && (Model.CustomerSystemInfo != null && !string.IsNullOrWhiteSpace(Model.CustomerSystemInfo.InstallType) && Model.CustomerSystemInfo.InstallType != "-1"))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Lead Type") </label>
                                                                    </div>

                                                                    @if (!string.IsNullOrWhiteSpace(Model.CustomerSystemInfo.LeadInstallTypeVal))
                                                                    {
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>
                                                                            @Model.CustomerSystemInfo.LeadInstallTypeVal
                                                                        </div>
                                                                    }
                                                                    else if (!string.IsNullOrWhiteSpace(Model.CustomerSystemInfo.InstallTypeVal))
                                                                    {
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>
                                                                            @Model.CustomerSystemInfo.InstallTypeVal
                                                                        </div>
                                                                    }
                                                                    else
                                                                    {
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>
                                                                            @Model.CustomerSystemInfo.InstallType
                                                                        </div>
                                                                    }

                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "Carrier" && !string.IsNullOrWhiteSpace(Model.Carrier) && Model.Carrier != "-1")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Carrier") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.Carrier
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "EstCloseDate" && Model.EstCloseDate != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Est Closing Date") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.EstCloseDate.Value.ToString("MM/dd/yy")
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "ProjectWalkDate" && Model.ProjectWalkDate != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Project Walk Date") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.ProjectWalkDate.Value.ToString("MM/dd/yy")
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "DoNotCall" && Model.DoNotCall != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Do Not Call") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.DoNotCall.Value.ToString("MM/dd/yy")
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "Market" && !string.IsNullOrWhiteSpace(Model.Market) && Model.Market != "-1")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Market") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.MarketVal
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "Passengers" && Model.Passengers != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Passengers") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.Passengers
                                                                    </div>
                                                                </div>
                                                            }


                                                            else if (item.SelectedColumn == "Repair" && Model.CustomerExtended != null && !string.IsNullOrWhiteSpace(Model.CustomerExtended.Repair) && Model.CustomerExtended.Repair != "-1")
                                                            {

                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Repair") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span> @Model.CustomerExtended.Repair
                                                                    </div>
                                                                </div>

                                                            }
                                                            else if (item.SelectedColumn == "RepairType" && Model.CustomerExtended != null && !string.IsNullOrWhiteSpace(Model.CustomerExtended.RepairType) && Model.CustomerExtended.RepairType != "-1")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Type of Repair") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>  @Model.CustomerExtended.RepairType
                                                                    </div>
                                                                </div>

                                                            }
                                                            else if (item.SelectedColumn == "Pets" && Model.CustomerExtended != null && !string.IsNullOrWhiteSpace(Model.CustomerExtended.PetsType) && Model.CustomerExtended.Pets != "-1")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Pets") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>  @Model.CustomerExtended.Pets
                                                                    </div>
                                                                </div>

                                                            }
                                                            else if (item.SelectedColumn == "PetsType" && Model.CustomerExtended != null && !string.IsNullOrWhiteSpace(Model.CustomerExtended.PetsType) && Model.CustomerExtended.PetsType != "-1")
                                                            {

                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Type Of Pets") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>  @Model.CustomerExtended.PetsType
                                                                    </div>
                                                                </div>

                                                            }
                                                            else if (item.SelectedColumn == "BirthDateCoupon" && Model.CustomerExtended != null && !string.IsNullOrWhiteSpace(Model.CustomerExtended.BirthDateCoupon))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Birthday Coupon") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>  @Model.CustomerExtended.BirthDateCoupon
                                                                    </div>
                                                                </div>

                                                            }
                                                            else if (item.SelectedColumn == "VipClubMember" && Model.CustomerExtended != null && !string.IsNullOrWhiteSpace(Model.CustomerExtended.VipClubMember) && Model.CustomerExtended.VipClubMember != "-1")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Vip Club Member") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>  @Model.CustomerExtended.VipClubMember
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "SecondaryFirstName" && Model.CustomerExtended != null && !string.IsNullOrWhiteSpace(Model.CustomerExtended.SecondaryFirstName))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Secondary FirsName") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>  @Model.CustomerExtended.SecondaryFirstName
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "SecondaryLastName" && Model.CustomerExtended != null && !string.IsNullOrWhiteSpace(Model.CustomerExtended.SecondaryLastName))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Secondary LastName") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>  @Model.CustomerExtended.SecondaryLastName
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "SecondaryEmail" && Model.CustomerExtended != null && !string.IsNullOrWhiteSpace(Model.CustomerExtended.SecondaryEmail))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Secondary Email ") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>  @Model.CustomerExtended.SecondaryEmail
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "SecondarySSN" && Model.CustomerExtended != null && !string.IsNullOrWhiteSpace(Model.CustomerExtended.SecondarySSN))
                                                            {
                                                                var SSSN = "";
                                                                if (!string.IsNullOrEmpty(Model.CustomerExtended.SecondarySSN) && Model.CustomerExtended.SecondarySSN.Length > 4)
                                                                {
                                                                    var FormateSSN = Model.CustomerExtended.SecondarySSN.Substring(Model.CustomerExtended.SecondarySSN.Length - 4);
                                                                    int SSNInt = 0;
                                                                    if (Int32.TryParse(FormateSSN, out SSNInt) && SSNInt > 0)
                                                                    {
                                                                        SSSN = String.Format("{0:XXX-XX-0000}", SSNInt);
                                                                    }
                                                                }
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Secondary SSN") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@SSSN
                                                                    </div>
                                                                </div>
                                                            }
                                                            @*else if (item.SelectedColumn == "SecondarySSN" && Model.CustomerExtended != null && !string.IsNullOrWhiteSpace(Model.CustomerExtended.SecondarySSN))
            {
            <div class="li_info_details_row custom_row_style">
                <div class="li_info_details_left">
                    <label>@Localize.T("Secondary SSN") </label>
                </div>
                <div class="li_info_details_right">
                    <span>:</span>  @Model.CustomerExtended.SecondarySSN
                </div>
            </div>
            }*@
                                                            else if (item.SelectedColumn == "SecondaryBirthDate" && Model.CustomerExtended != null && Model.CustomerExtended.SecondaryBirthDate.HasValue && Model.CustomerExtended.SecondaryBirthDate.Value.ToString("MM/dd/yy") != "01/01/00")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Secondary BirthDate") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>  @Model.CustomerExtended.SecondaryBirthDate
                                                                    </div>
                                                                </div>
                                                            }



                                                            else if (item.SelectedColumn == "Budget" && Model.Budget != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Budget") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@HS.Web.UI.Helper.LabelHelper.CurrentTransMakeCurrency.MakeCurrency(null)@HS.Web.UI.Helper.LabelHelper.FormatAmount(Model.Budget.Value)
                                                                    </div>
                                                                </div>
                                                            }

                                                            else if (item.SelectedColumn == "Fax" && !string.IsNullOrWhiteSpace(Model.Fax))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Fax") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.Fax
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "DrivingLicense" && Model.CustomerExtended != null && !string.IsNullOrWhiteSpace(Model.CustomerExtended.DrivingLicense))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Driving License") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.CustomerExtended.DrivingLicense
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "CallingTime" && !string.IsNullOrWhiteSpace(Model.CallingTime) && Model.CallingTime != "-1")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Calling Time") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.CallingTime
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "CreditScore" && !string.IsNullOrWhiteSpace(Model.CreditGrade))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Credit Score Grade") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.CreditGrade
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "CreditScoreValue" && Model.CreditScoreValue != null)
                                                            {
                                                                if (PermissionChecker.IsPermitted(PermissionList.CustomerPermissions.CustomerCreditScore))
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Credit Score") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Model.CreditScoreValue
                                                                        </div>
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Credit Score") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>****
                                                                        </div>
                                                                    </div>
                                                                }
                                                            }

                                                            //for ads

                                                            else if (item.SelectedColumn == "AcquiredFrom" && Model.AcquiredFrom != null && Model.AcquiredFrom != "")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Acquired From") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.AcquiredFrom
                                                                    </div>
                                                                </div>
                                                            }

                                                            else if (item.SelectedColumn == "FollowUpDate" && Model.FollowUpDate != null && Model.FollowUpDate != new DateTime())
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Follow Up Date") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.FollowUpDate.Value.ToString("MM/dd/yy")
                                                                    </div>
                                                                </div>
                                                            }

                                                            else if (item.SelectedColumn == "BuyoutAmountByADS" && Model.BuyoutAmountByADS != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Buyout Amount By ADS") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@HS.Web.UI.Helper.LabelHelper.CurrentTransMakeCurrency.MakeCurrency(null)@HS.Web.UI.Helper.LabelHelper.FormatAmount(Model.BuyoutAmountByADS.Value)
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "BuyoutAmountBySalesRep" && Model.BuyoutAmountBySalesRep != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Buyout Amount By Sales Rep") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@HS.Web.UI.Helper.LabelHelper.CurrentTransMakeCurrency.MakeCurrency(null)@HS.Web.UI.Helper.LabelHelper.FormatAmount(Model.BuyoutAmountBySalesRep.Value)
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "FinancedTerm" && Model.FinancedTerm != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Financed Term") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@HS.Web.UI.Helper.LabelHelper.CurrentTransMakeCurrency.MakeCurrency(null)@HS.Web.UI.Helper.LabelHelper.FormatAmount(Model.FinancedTerm.Value)
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "FinancedAmount" && Model.FinancedAmount != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Financed Amount") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@HS.Web.UI.Helper.LabelHelper.CurrentTransMakeCurrency.MakeCurrency(null)@HS.Web.UI.Helper.LabelHelper.FormatAmount(Model.FinancedAmount.Value)
                                                                    </div>
                                                                </div>
                                                            }

                                                            //end for ads

                                                            //for crm
                                                            else if (item.SelectedColumn == "Levels" && Model.Levels != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Levels") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.Levels.Value
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "SoldAmount" && Model.SoldAmount != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Sold Amount") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@HS.Web.UI.Helper.LabelHelper.CurrentTransMakeCurrency.MakeCurrency(null)@HS.Web.UI.Helper.LabelHelper.FormatAmount(Model.SoldAmount.Value)
                                                                    </div>
                                                                </div>
                                                            }
                                                            //end for crm



                                                            else if (item.SelectedColumn == "FundingCompany" && Model.FundingCompany != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Funding Company") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.FundingCompany
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "CellularBackup" && Model.CellularBackup == true)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Cellular Backup") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Localize.T("Yes")
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "CustomerFunded" && Model.CustomerFunded == true)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Customer Funded") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Localize.T("Yes")
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "Maintenance" && Model.Maintenance == true)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Maintenance") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Localize.T("Yes")
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "SalesDate" && Model.SalesDate != null && Model.SalesDate != new DateTime())
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Sales Date") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.SalesDate.Value.ToString("MM/dd/yy")
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "InstallDate" && Model.InstallDate != null && Model.InstallDate != new DateTime())
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Install Date") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.InstallDate.Value.ToString("MM/dd/yy")
                                                                    </div>
                                                                </div>
                                                            }
                                                            if (item.SelectedColumn == "CutInDate" && Model.CutInDate != null && Model.CutInDate != new DateTime())
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Cut In Date") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.CutInDate.Value.ToString("MM/dd/yy")
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "FundingDate" && Model.FundingDate != null && Model.FundingDate != new DateTime())
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Funding Date") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.FundingDate.Value.ToString("MM/dd/yy")
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "PreferredContactMethod")
                                                            {
                                                                if (!string.IsNullOrEmpty(Model.PreferredContactMethod) && Model.PreferredContactMethod != "-1")
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Preferred Contact Method") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Model.PreferredContactMethod
                                                                        </div>
                                                                    </div>
                                                                }
                                                            }
                                                            else if (item.SelectedColumn == "IsCellNoVerified")
                                                            {
                                                                if (Model.IsCellNoVerified == true)
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Cell No Verified") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("Yes")
                                                                        </div>
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Cell No Verified") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("No")
                                                                        </div>
                                                                    </div>
                                                                }
                                                            }
                                                            else if (item.SelectedColumn == "IsPrimaryPhoneVerified")
                                                            {
                                                                if (Model.IsPrimaryPhoneVerified == true)
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Primary Phone Verified") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("Yes")
                                                                        </div>
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Primary Phone Verified") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("Yes")
                                                                        </div>
                                                                    </div>
                                                                }
                                                            }
                                                            else if (item.SelectedColumn == "IsSecondaryPhoneVerified")
                                                            {
                                                                if (Model.IsSecondaryPhoneVerified == true)
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Secondary Phone Verified") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("Yes")
                                                                        </div>
                                                                    </div>
                                                                }
                                                            }
                                                            else if (item.SelectedColumn == "CustomerAccountType" && !string.IsNullOrWhiteSpace(Model.CustomerAccountType))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Customer Account Type") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.CustomerAccountType
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "Website" && !string.IsNullOrWhiteSpace(Model.Website))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Website") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span><a class="cus-anchor" href="https://@Model.Website" target="_blank">@Model.Website</a>
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "BestTimeToCall" && !string.IsNullOrWhiteSpace(Model.BestTimeToCall) && Model.BestTimeToCall != "-1")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Best Time to Call") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.BestTimeToCall
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "CSProvider" && !string.IsNullOrWhiteSpace(Model.CSProvider) && Model.CSProvider != "-1")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("CS Provider") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.CSProvider
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "AnnualRevenue" && Model.AnnualRevenue != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Website") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.AnnualRevenue
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "HomeVerified")
                                                            {
                                                                if (Model.HomeVerified == true)
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Home Verified") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("Yes")
                                                                        </div>
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Home Verified") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("Yes")
                                                                        </div>
                                                                    </div>
                                                                }
                                                            }
                                                            else if (item.SelectedColumn == "EmailVerified")
                                                            {
                                                                if (Model.EmailVerified == true)
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Email Verified") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("Yes")
                                                                        </div>
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Email Verified") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("Yes")
                                                                        </div>
                                                                    </div>
                                                                }
                                                            }
                                                            else if (item.SelectedColumn == "ChildOf" && !string.IsNullOrWhiteSpace(Model.chCustomer))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Child Of")</label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.chCustomer
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "ContractValue" && !string.IsNullOrWhiteSpace(Model.ContractValue))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Contract Value") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.ContractValue
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "PurchasePrice" && Model.PurchasePrice != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Purchase Price")</label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.PurchasePrice
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "Ownership" && !string.IsNullOrWhiteSpace(Model.Ownership) && Model.Ownership.Trim() != "-1")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Ownership") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.Ownership
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "EsistingPanel" && !string.IsNullOrWhiteSpace(Model.EsistingPanel))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Esisting Panel") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.EsistingPanel
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "ReferringCustomer" && !string.IsNullOrWhiteSpace(Model.RefCustomer))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Referring Customer") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span><a class="cus-anchor" href="/Lead/Leadsdetail/?id=@ViewBag.RefId">@Model.RefCustomer</a>

                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "BusinessAccountType" && !string.IsNullOrWhiteSpace(Model.BusinessAccountType) && Model.BusinessAccountType !="-1")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Business Account Type") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.BusinessAccountTypeVal
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "IsFireAccount")
                                                            {
                                                                if (Model.IsFireAccount == true)
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Fire Account") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("Yes")
                                                                        </div>
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Fire Account") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("No")
                                                                        </div>
                                                                    </div>
                                                                }
                                                            }
                                                            else if (item.SelectedColumn == "IsAgreement")
                                                            {
                                                                if (Model.IsAgreement == true)
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Agreement") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("Yes")
                                                                        </div>
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Agreement") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("No")
                                                                        </div>
                                                                    </div>
                                                                }
                                                            }
                                                            else if (item.SelectedColumn == "PreferedSms")
                                                            {
                                                                if (Model.PreferedSms == true)
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Prefered Sms") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("Yes")
                                                                        </div>
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Prefered Sms") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("No")
                                                                        </div>
                                                                    </div>
                                                                }
                                                            }
                                                            else if (item.SelectedColumn == "PreferedEmail")
                                                            {
                                                                if (Model.PreferedEmail == true)
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Prefered Email") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("Yes")
                                                                        </div>
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Prefered Email") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("No")
                                                                        </div>
                                                                    </div>
                                                                }
                                                            }
                                                            else if (item.SelectedColumn == "LastGeneratedInvoice" && Model.LastGeneratedInvoice != null && Model.LastGeneratedInvoice != new DateTime())
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Last Generated Invoice") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.LastGeneratedInvoice.Value.ToString("MM/dd/yy")
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "IsActive")
                                                            {
                                                                if (Model.IsActive == true)
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Active Status") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("Yes")
                                                                        </div>
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Active Status") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("No")
                                                                        </div>
                                                                    </div>
                                                                }
                                                            }
                                                            else if (item.SelectedColumn == "IsFinanced")
                                                            {
                                                                if (Model.CustomerExtended.IsFinanced == true)
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Finance Status") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("Yes")
                                                                        </div>
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Finance Status") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("No")
                                                                        </div>
                                                                    </div>
                                                                }
                                                            }
                                                            else if (item.SelectedColumn == "FirstBilling" && Model.FirstBilling != null && Model.FirstBilling != new DateTime())
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("First Billing") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.FirstBilling.Value.ToString("MM/dd/yy")
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "DuplicateCustomer" && Model.DuplicateCustomer != null && Model.DuplicateCustomer != Guid.Empty && Model.DuplicateCustomerId != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Duplicate Customer") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span><a class="cus-anchor" href="/Customer/Customerdetail/?id=@Model.DuplicateCustomerId">@Model.DuplicateCustomerName</a>
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "IsTechCallPassed")
                                                            {
                                                                if (Model.IsTechCallPassed == true)
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Tech Call") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("Yes")
                                                                        </div>
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Tech Call") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("No")
                                                                        </div>
                                                                    </div>
                                                                }
                                                            }
                                                            else if (item.SelectedColumn == "BranchId" && !string.IsNullOrWhiteSpace(ViewBag.Branch))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Branch") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@ViewBag.Branch
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "AdditionalCustomerNo" && !string.IsNullOrWhiteSpace(Model.AdditionalCustomerNo))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Additional Customer No") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.AdditionalCustomerNo
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "SecondCustomerNo" && !string.IsNullOrWhiteSpace(Model.SecondCustomerNo))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Second Customer No") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.SecondCustomerNo
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "Area" && !string.IsNullOrWhiteSpace(Model.Area))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Area") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.Area
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "ServiceDate" && Model.ServiceDate != null && Model.ServiceDate != new DateTime())
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Service Date") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.ServiceDate.Value.ToString("MM/dd/yy")
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "BillOutStanding" && Model.BillOutStanding != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Bill OutStanding") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.BillOutStanding
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "BillTax")
                                                            {
                                                                if (Model.BillTax == true)
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Bill Tax") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("Yes")
                                                                        </div>
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Bill Tax") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("No")
                                                                        </div>
                                                                    </div>
                                                                }
                                                            }
                                                            else if (item.SelectedColumn == "BillNotes" && !string.IsNullOrWhiteSpace(Model.BillNotes))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Bill Notes") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.BillNotes
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "BillAmount" && Model.BillAmount != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Bill Amount") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.BillAmount
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "ReminderDate" && Model.ReminderDate != null && Model.ReminderDate != new DateTime())
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Reminder Date") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.ReminderDate.Value.ToString("MM/dd/yy")
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "MovingDate" && Model.MovingDate != null && Model.MovingDate != new DateTime())
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Moving Date") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.MovingDate.Value.ToString("MM/dd/yy")
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "Tax Exemption" && Model.TaxExemptionVal != "Select One" && Model.TaxExemptionVal != null && Model.TaxExemptionVal != "")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Tax Exemption") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.TaxExemptionVal
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "Appoinment Set" && Model.AppointmentSetVal != "Select One" && Model.AppointmentSetVal != null && Model.AppointmentSetVal != "")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Appointment Set") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.AppointmentSetVal
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "PlatformId" && Model.PlatformId != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Platform ID")</label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.PlatformId
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "ContactedPerviously" && !string.IsNullOrWhiteSpace(Model.ContactedPerviously) && Model.ContactedPerviously != "-1")
                                                            {
                                                                if (Model.ContactedPerviously == "1")
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Contacted Previously") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("Yes")
                                                                        </div>
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Contacted Previously") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("No")
                                                                        </div>
                                                                    </div>
                                                                }
                                                            }
                                                            else if (item.SelectedColumn == "Installer" && !string.IsNullOrWhiteSpace(Model.InstallerName))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Installer") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.InstallerName
                                                                    </div>
                                                                </div>
                                                            }
                                                            @*else if (item.SelectedColumn == "IsFinanced"
            && Model.CustomerExtended != null
            && Model.CustomerExtended.IsFinanced != null)
            {
            <div class="li_info_details_row custom_row_style">
                <div class="li_info_details_left">
                    <label>@Localize.T("Is Financed") </label>
                </div>
                <div class="li_info_details_right">
                    <span>:</span>@(Model.CustomerExtended.IsFinanced.Value ? "Yes" : "No")
                </div>
            </div>
            }*@
                                                            else if (item.SelectedColumn == "FinanceCompany"
                                                            && Model.CustomerExtended != null
                                                            && !string.IsNullOrWhiteSpace(Model.CustomerExtended.FinanceCompany)
                                                            && Model.CustomerExtended.FinanceCompany != "-1")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Financed Company") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.CustomerExtended.FinanceCompany
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "MonthlyFinanceRate" && Model.CustomerExtended != null
                                                            && Model.CustomerExtended.MonthlyFinanceRate != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Monthly Finance Rate") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Currency@LabelHelper.FormatAmount(Model.CustomerExtended.MonthlyFinanceRate)
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "GrossFundedAmount"
                                                            && Model.CustomerExtended != null
                                                            && Model.CustomerExtended.GrossFundedAmount != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Gross Funded Amount") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Currency@LabelHelper.FormatAmount(Model.CustomerExtended.GrossFundedAmount)
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "NetFundedAmount"
                                                            && Model.CustomerExtended != null
                                                            && Model.CustomerExtended.NetFundedAmount != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Net Funded Amount") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Currency@LabelHelper.FormatAmount(Model.CustomerExtended.NetFundedAmount)
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "DiscountFundedAmount"
                                                            && Model.CustomerExtended != null
                                                            && Model.CustomerExtended.DiscountFundedAmount != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Discount Funded Amount") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Currency@LabelHelper.FormatAmount(Model.CustomerExtended.DiscountFundedAmount)
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "DiscountFundedPercentage"
                                                            && Model.CustomerExtended != null
                                                            && Model.CustomerExtended.DiscountFundedPercentage != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Discount Funded Percentage") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@LabelHelper.FormatAmount(Model.CustomerExtended.DiscountFundedPercentage)
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "CustomerPaymentAmount"
                                                            && Model.CustomerExtended != null
                                                            && Model.CustomerExtended.CustomerPaymentAmount != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Customer Payment Amount") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Currency@LabelHelper.FormatAmount(Model.CustomerExtended.CustomerPaymentAmount)
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "FinanceRepCommissionRate"
                                                            && Model.CustomerExtended != null
                                                            && Model.CustomerExtended.FinanceRepCommissionRate != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Finance Rep Commission Rate") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Currency@LabelHelper.FormatAmount(Model.CustomerExtended.FinanceRepCommissionRate)
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "LoanNumber"
                                                            && Model.CustomerExtended != null
                                                            && !string.IsNullOrEmpty(Model.CustomerExtended.LoanNumber))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Loan Number") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.CustomerExtended.LoanNumber
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "BatchNumber"
                                                            && Model.CustomerExtended != null
                                                            && !string.IsNullOrEmpty(Model.CustomerExtended.Batch))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Batch Number") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.CustomerExtended.Batch
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "MonthlyBatch"
                                                       && Model.CustomerExtended != null
                                                       && Model.CustomerExtended.MonthlyBatch != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Monthly Batch Number") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.CustomerExtended.MonthlyBatch
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "FinanceRep"
                                                            && !string.IsNullOrEmpty(Model.FinanceRepValue))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Finance Rep") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.FinanceRepValue
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "AppoinmentSetBy"
                                                            && !string.IsNullOrEmpty(Model.AppoinmentSetByValue))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Appoinment Set By") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.AppoinmentSetByValue
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "CreditAppNumber"
                                                            && Model.CustomerExtended != null
                                                            && !string.IsNullOrEmpty(Model.CustomerExtended.CreditAppNumber))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Credit App Number") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.CustomerExtended.CreditAppNumber
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "Term"
                                                            && Model.CustomerExtended != null
                                                            && !string.IsNullOrEmpty(Model.CustomerExtended.Term)
                                                            && Model.CustomerExtended.Term != "-1")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Term") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.CustomerExtended.Term
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "APR"
                                                            && Model.CustomerExtended != null
                                                            && !string.IsNullOrEmpty(Model.CustomerExtended.APR))
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("APR") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.CustomerExtended.APR
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "DealerFee"
                                                                && Model.CustomerExtended != null
                                                                && Model.CustomerExtended.DealerFee != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Dealer Fee") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.CustomerExtended.DealerFee
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "MaxCreditLimit"
                                                            && Model.CustomerExtended != null
                                                            && Model.CustomerExtended.MaxCreditLimit != null)
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Max Credit Limit") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Currency@LabelHelper.FormatAmount(Model.CustomerExtended.MaxCreditLimit)
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "ApprovalDate"
                                                            && Model.CustomerExtended != null
                                                            && Model.CustomerExtended.ApprovalDate != null
                                                            && Model.CustomerExtended.ApprovalDate.HasValue
                                                            && Model.CustomerExtended.ApprovalDate.Value.ToString("MM/dd/yy") != "01/01/00")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Approval Date") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@Model.CustomerExtended.ApprovalDate.Value.ToString("MM/dd/yy")
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "Notification Method")
                                                            {
                                                                <div class="li_info_details_row custom_row_style">
                                                                    <div class="li_info_details_left">
                                                                        <label>@Localize.T("Notification Method") </label>
                                                                    </div>
                                                                    <div class="li_info_details_right">
                                                                        <span>:</span>@{
                                                                            string NotificationMethod = "None";

                                                                            if (Model.PreferedSms.HasValue && Model.PreferedSms.Value)
                                                                            {
                                                                                NotificationMethod = "SMS";
                                                                            }
                                                                            else if (Model.PreferedEmail.HasValue && Model.PreferedEmail.Value)
                                                                            {
                                                                                NotificationMethod = "Email";
                                                                            }
                                                                            else if (Model.PreferedCall.HasValue && Model.PreferedCall.Value)
                                                                            {
                                                                                NotificationMethod = "Phone Call";
                                                                            }
                                                                        }
                                                                        <span>@NotificationMethod</span>
                                                                    </div>
                                                                </div>
                                                            }
                                                            else if (item.SelectedColumn == "IsAlarmCom")
                                                            {
                                                                if (Model.IsAlarmCom == true)
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Alarming") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("Yes")
                                                                        </div>
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                    <div class="li_info_details_row custom_row_style">
                                                                        <div class="li_info_details_left">
                                                                            <label>@Localize.T("Alarming") </label>
                                                                        </div>
                                                                        <div class="li_info_details_right">
                                                                            <span>:</span>@Localize.T("No")
                                                                        </div>
                                                                    </div>
                                                                }
                                                            }
                                                        }
                                                    </div>

                                                </div>
                                            }
                                            else
                                            {
                                                if (LeadDetailBlock.Where(x => x.SelectedColumn == "Personal Information").Count() > 0)
                                                {
                                                    <div class="li_info_block">
                                                        <div class="li_header">
                                                            @Localize.T("Personal Information")
                                                            @if (PermissionChecker.IsPermitted(PermissionList.LeadPermissions.LeadEdit))
                                                            {
                                                                <a class="Personaledit btn green-tooltip green_button" href="javascript:void(0)" id="editCustomerCustomerDetailsHeader1" idval="@Model.Id" data-toggle="tooltip" title="Edit Lead"><i class="fa fa-edit" aria-hidden="true"></i></a>
                                                                <a class="Personaledit btn editCustomerCustomerDetailsHeader2 hidden" href="javascript:void(0)" id="editCustomerCustomerDetailsHeader2" idval="@Model.Id"><i class="fa fa-cube" aria-hidden="true"></i></a>
                                                            }
                                                        </div>
                                                        <div class="li_info_details_block">
                                                            <div class="li_info_details_row custom_row_style">
                                                                <div class="li_info_details_left">
                                                                    <label>@Localize.T("Name")</label>
                                                                </div>
                                                                <div class="li_info_details_right">
                                                                    @Localize.T("Lead #")@Model.Id
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                }
                                            }
                                        }

                                    }
                                    @if (LeadDetailBlock.Where(x => x.SelectedColumn == "Lead Info").Count() > 0)
                                    {
                                        <div class="li_info_block">
                                            <div class="li_header">
                                                @Localize.T("Lead Info")
                                            </div>
                                            <div class="li_info_details_block">
                                                @if (!string.IsNullOrWhiteSpace(Model.CreatedByVal))
                                                {
                                                    <div class="li_info_details_row custom_row_style">
                                                        <div class="li_info_details_left">
                                                            <label>@Localize.T("Created By")</label>
                                                        </div>
                                                        <div class="li_info_details_right">
                                                            <span>:</span> @Model.CreatedByVal
                                                        </div>
                                                    </div>
                                                }
                                                <div class="li_info_details_row custom_row_style">
                                                    <div class="li_info_details_left">
                                                        <label>@Localize.T("Created On")</label>
                                                    </div>
                                                    <div class="li_info_details_right">
                                                        <span>:</span> @Model.CreatedDate.UTCToClientTime().ToString("MM/dd/yy") @Model.CreatedDate.UTCToClientTime().ToString("hh:mm tt")
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                    @if (Model.CustomerExtended != null && !string.IsNullOrEmpty(Model.CustomerExtended.IsPcApplicationId))
                                    {
                                <div class="li_info_block">
                                    <div class="li_header">
                                        @Localize.T("IsPc Status")
                                        <button title="@Localize.T("Get Finance Status")" class="btn leadfinance_status_button green_button">@Localize.T("Get Finance Status")</button>
                                    </div>
                                   
                                    <div class="li_info_details_block">

                                        <div class="li_info_details_row custom_row_style">
                                            <div class="li_info_details_left">
                                                <label>@Localize.T("App Id")</label>
                                            </div>
                                            <div class="li_info_details_right">
                                                <span>:</span> @Model.CustomerExtended.IsPcApplicationId
                                            </div>
                                        </div>
                                        @if (Model.CustomerExtended != null && !string.IsNullOrEmpty(Model.CustomerExtended.IsPcAppStatus))
                                        {
                                            <div class="li_info_details_row custom_row_style">
                                                <div class="li_info_details_left">
                                                    <label>@Localize.T("Current Status")</label>
                                                </div>
                                                <div class="li_info_details_right">
                                                    <span>:</span>@Model.CustomerExtended.IsPcAppStatus
                                                </div>
                                            </div>
                                        }
                                    </div>
                                </div>

                                    }

                                    @if (Model.CustomerExtended != null && !string.IsNullOrEmpty(Model.CustomerExtended.PowerPayAppId))
                                    {
                                        <div class="li_info_block">
                                            <div class="li_header">
                                                @Localize.T("Power Pay Status")
                                            </div>
                                            <div class="li_info_details_block">

                                                <div class="li_info_details_row custom_row_style">
                                                    <div class="li_info_details_left">
                                                        <label>@Localize.T("App Id")</label>
                                                    </div>
                                                    <div class="li_info_details_right">
                                                        <span>:</span> @Model.CustomerExtended.PowerPayAppId
                                                    </div>
                                                </div>
                                                @if (Model.CustomerExtended != null && !string.IsNullOrEmpty(Model.CustomerExtended.PowerPayAppId))
                                                {
                                                    <div class="li_info_details_row custom_row_style">
                                                        <div class="li_info_details_left">
                                                            <label>@Localize.T("Current Status")</label>
                                                        </div>
                                                        <div class="li_info_details_right">
                                                            <span>:</span>@Model.CustomerExtended.PowerPayAppStatus
                                                        </div>
                                                    </div>
                                                }
                                            </div>
                                        </div>
                                    }
                                    @if (LeadDetailBlock.Where(x => x.SelectedColumn == "Credit Report").Count() > 0)
                                    {
                                        <div class="li_info_block">
                                            <div class="li_header">
                                                @Localize.T("Credit Report")
                                                <a class="Personaledit btn" href="javascript:void(0)" id="LoadCreditCheck" idval="@Model.Id" title="@Localize.T("Lead Credit Check")"><i class="fa fa-clipboard" aria-hidden="true"></i></a>
                                            </div>
                                            <div class="li_info_details_block">
                                                @if (!string.IsNullOrWhiteSpace(Model.FirstName) && !string.IsNullOrWhiteSpace(Model.LastName))
                                                {
                                                    <div class="li_info_details_row custom_row_style">
                                                        <div class="li_info_details_left">
                                                            <label>@Localize.T("Name")</label>
                                                        </div>
                                                        <div class="li_info_details_right">
                                                            @Model.FirstName @Model.LastName
                                                        </div>
                                                    </div>
                                                }
                                                @if (!string.IsNullOrWhiteSpace(Model.StreetPrevious) && !string.IsNullOrWhiteSpace(Model.CityPrevious) && !string.IsNullOrWhiteSpace(Model.StatePrevious) && !string.IsNullOrWhiteSpace(Model.ZipCodePrevious))
                                                {
                                                    <div class="li_info_details_row custom_row_style">
                                                        <div class="li_info_details_left">
                                                            <label>@Localize.T("Address")</label>
                                                        </div>
                                                        <div class="li_info_details_right">
                                                            @if (!string.IsNullOrWhiteSpace(Model.StreetPrevious))
                                                            {
                                                                <span>  @Model.StreetPrevious</span><br />
                                                            }
                                                            @if (!string.IsNullOrWhiteSpace(Model.CityPrevious) || !string.IsNullOrWhiteSpace(Model.StatePrevious) || !string.IsNullOrWhiteSpace(Model.ZipCodePrevious))
                                                            {
                                                                <span>&nbsp; @Model.CityPrevious, @Model.StatePrevious.ToUpper() @Model.ZipCodePrevious</span>

                                                            }
                                                        </div>
                                                    </div>
                                                }
                                                @if (Model.CustomerSpouse != null)
                                                {
                                                    <div class="li_info_details_row custom_row_style">
                                                        <div class="li_info_details_left">
                                                            <label>@Localize.T("Spouse Name")</label>
                                                        </div>
                                                        <div class="li_info_details_right">
                                                            @Model.CustomerSpouse.FirstName @Model.CustomerSpouse.LastName
                                                        </div>
                                                    </div>
                                                    <div class="li_info_details_row custom_row_style">
                                                        <div class="li_info_details_left">
                                                            <label>@Localize.T("Spouse DOB")</label>
                                                        </div>
                                                        <div class="li_info_details_right">
                                                            @(Model.CustomerSpouse.DateofBirth.ToString("MM/dd/yy"))
                                                        </div>
                                                    </div>
                                                    <div class="li_info_details_row custom_row_style">
                                                        <div class="li_info_details_left">
                                                            <label>@Localize.T("Spouse SSN")</label>
                                                        </div>
                                                        <div class="li_info_details_right">
                                                            @Model.CustomerSpouse.SSN
                                                        </div>
                                                    </div>
                                                }
                                            </div>
                                            <button class="btn" idval="@Model.Id" style="margin-bottom:5px;float:right;margin-right:5px;">@Localize.T("Run Credit Report")</button>
                                        </div>
                                    }
                                    @*@if (!string.IsNullOrWhiteSpace(Model.Street) && !string.IsNullOrWhiteSpace(Model.City) && !string.IsNullOrWhiteSpace(Model.State) && !string.IsNullOrWhiteSpace(Model.ZipCode))
                                        {
                                            <div class="li_info_block">
                                                <div class="li_header">
                                                    @Localize.T("Address Map")
                                                </div>
                                                <div class="li_info_details_block">
                                                    <img class="leadMapPopup" data-id="@Model.Id" src="~/Content/img/location.png" style="float:right;padding-right:10px;padding-top:5px;cursor:pointer;" />
                                                    @{
                                                        addressdata1stLine = string.Format("{0}", Model.Street);
                                                        var StateAddress = "";
                                                        if (Model.State != "")
                                                        {
                                                            StateAddress = Model.State;
                                                        }
                                                        addressdata2ndLine = string.Format("{0}, {1} {2}", (Model.City.ToString().Substring(0, 1).ToUpper()) + (Model.City.ToString().Substring(1, Model.City.ToString().Length - 1)), StateAddress, Model.ZipCode);
                                                    }
                                                    <span class="address_padd">@addressdata1stLine</span> <br /> <span class="address_padd">@addressdata2ndLine</span>
                                                </div>
                                            </div>
                                        }*@
                                </div>
                            }

                        </div>
                        <div class="lead_subTab_right_content">
                            @if (LeadDetailBlock.Where(x => x.SelectedColumn == "Notes/Reminder").Count() > 0)
                            {
                        <div class="li_info_block">
                            <div class="Notes-Box" idval="@Model.CustomerId" soldby="@Model.Soldby">

                            </div>

                        </div>}
                            @if(LeadDetailBlock.Where(x => x.SelectedColumn == "System Information").Count() > 0)
                            {
                                 <div class="li_info_block">
                                    <div class="ci_header">
                                    @Localize.T("System Information")
                                        <div class="" style="float:right;">
                                             
                                        </div>
                                </div>
                                    <div class="li_info_details_block additionalBlock">
                                        <div id="SystemInfo">

                                        </div>
                                    </div>
                                 </div>
                            }
                            @if (LeadDetailBlock.Where(x => x.SelectedColumn == "Payment Information").Count() > 0)
                            {
                        <div class="li_info_block">
                            <div class="li_header">
                                @Localize.T("Payment Methods")
                            </div>
                            <div class="li_info_details_block_for_payment">
                                <div class=" li_info_block">
                                    <div class="li_header">
                                        @Localize.T("ACH")
                                        <button class="btn" id="btn_addachpaymentcustomer" title="@Localize.T("Add ACH")"><i class="fa fa-plus"></i></button>
                                    </div>
                                    <div class="li_info_details_block_for_payment">
                                        <div id="ACHTab"></div>
                                    </div>
                                </div>
                                <div class=" li_info_block">
                                    <div class="li_header">
                                        @Localize.T("CC")

                                        <button class="btn" id="btn_addccpaymentcustomer" title="@Localize.T("Add CC")"><i class="fa fa-plus"></i></button>
                                    </div>
                                    <div class="li_info_details_block_for_payment">
                                        <div id="CCTab"></div>
                                    </div>
                                </div>
                            </div>
                        </div>}
                            @if (LeadDetailBlock.Where(x => x.SelectedColumn == "Sales Person Info Details").Count() > 0)
                            {
                        <div class="li_info_block">
                            <div class="Lead_Sales_Person_Info_History" soldby="@Model.Soldby">

                            </div>

                        </div>}

                            @if (LeadDetailBlock.Where(x => x.SelectedColumn == "Additional Contact").Count() > 0)
                            {
                        <div class="li_info_block">
                            <div class="li_header">
                                @Localize.T("Additional Contact")
                                @if (PermissionChecker.IsPermitted(PermissionList.LeadPermissions.LeadEdit))
                                {
                                    if (!PermissionChecker.IsPermitted(PermissionList.UserMgmtPermissions.CustomerViewOnly) || Model.Soldby == CurrentLoggedInUser.UserId.ToString())
                                    {
                        <div class="" style="float:right;">
                            <button class="btn ld_addi_contact green_button" title="@Localize.T("Add Additional Contact")" onclick="AddAdditionalContact()" type="button">
                                <i class="fa fa-plus"></i>
                            </button>
                        </div>}
                                        }


                            </div>
                            <div class="li_info_details_block additionalBlock">
                                <div id="additionalInfo">

                                </div>
                            </div>

                        </div>
                        }
                           
                            @if (LeadDetailBlock.Where(x => x.SelectedColumn == "Lead Viewing History").Count() > 0 && PermissionChecker.IsPermitted(PermissionList.CustomerDashBoard.CustomerDetailsCustomerViewingHistory))
                            {
                        <div class="li_info_block">
                            <div class="li_header">
                                @Localize.T("Lead Viewing History")



                            </div>
                            <div class="HistoryLog">

                            </div>

                        </div> } @*@if (LeadDetailBlock.Where(x => x.SelectedColumn == "Lead Viewing History").Count() > 0 &&  PermissionChecker.IsPermitted(PermissionList.CustomerDashBoard.CustomerDetailsCustomerViewingHistory))
    {
    <div class="ci_block ci_block_device_margin">
        <div class="ci_header">@Localize.T("Lead Viewing History")</div>
        <div class="ci_info_custom Custom_account_history_content">
            @foreach (var item in Model.CustomerDetailTimestampList)
            {
                <div>Last Visited by <b> @item.Name </b> on <b> @item.VisitedDate </b></div>
            }
        </div>
    </div>
    }*@

                            @if (LeadDetailBlock.Where(x => x.SelectedColumn == "Lead Call History").Count() > 0)
                            {
                        <div class="li_info_block">
                            <div class="li_header">
                                @Localize.T("Lead Call History")
                            </div>
                            <div class="li_info_details_block additionalBlock">
                                <div id="CustomerContactTrackList">

                                </div>
                            </div>

                        </div>}
                            @if (LeadDetailBlock.Where(x => x.SelectedColumn == "Credit Check").Count() > 0)
                            {
                        <div class="li_info_block">
                            <div class="li_header">
                                @Localize.T("Credit Score")
                            </div>
                            <div class="li_info_details_block additionalBlock">
                                <div id="creditscorecheck">

                                </div>
                            </div>

                        </div>}
                            <div class="lead_package_info_right">
                                @{ if (LeadDetailBlock.Where(x => x.SelectedColumn == "Package Option").Count() > 0 && ((List<HS.Entities.LeadPackageDetail>)ViewBag.LeadPackageDetail).Count > 0)
                                                {
                                                    foreach (var item in ((List<HS.Entities.LeadPackageDetail>)ViewBag.LeadPackageDetail))
                                                    {
                                    <div class="li_info_block">
                                        <div class="li_header">
                                            @Localize.T("Package Option")
                                            @*<a class="ClickSetup btn green_button" href="javascript:void(0)" id="btnPackage" title="@Localize.T("Edit Package Option")"><i class="fa fa-edit" aria-hidden="true"></i></a>*@
                                        </div>
                                        @if (globalSetting.Where(x => x.SearchKey == "LeadSmartSetUp").Count() > 0 && globalSetting.Where(x => x.SearchKey == "LeadSmartSetUp").FirstOrDefault().Value.ToLower() == "true")
                                        {
                        <div class="li_info_details_block">
                            <div class="li_info_details_row custom_row_style">
                                <div class="li_info_details_left">
                                    <label>@Localize.T("System Type")</label>
                                </div>
                                <div class="li_info_details_right">
                                    @item.SmartSystemTypeName
                                </div>
                            </div>
                            <div class="li_info_details_row custom_row_style">
                                <div class="li_info_details_left">
                                    <label>@Localize.T("Install Type")</label>
                                </div>
                                <div class="li_info_details_right">
                                    @item.PackageInstallType
                                </div>
                            </div>
                            <div class="li_info_details_row custom_row_style">
                                <div class="li_info_details_left">
                                    <label>@Localize.T("Package Option")</label>
                                </div>
                                <div class="li_info_details_right">
                                    @item.PackageName
                                </div>
                            </div>
                        </div> }
                                            else
                                            {
                        <div class="li_info_details_block">
                            <div class="li_info_details_row custom_row_style">
                                <div class="li_info_details_left">
                                    <label>@Localize.T("Package Install Type")</label>
                                </div>
                                <div class="li_info_details_right">
                                    @item.PackageInstallType
                                </div>
                            </div>
                            <div class="li_info_details_row custom_row_style">
                                <div class="li_info_details_left">
                                    <label>@Localize.T("Package Panel Name")</label>
                                </div>
                                <div class="li_info_details_right">
                                    @item.PanelName
                                </div>
                            </div>
                            <div class="li_info_details_row custom_row_style">
                                <div class="li_info_details_left">
                                    <label>@Localize.T("Package Name")</label>
                                </div>
                                <div class="li_info_details_right">
                                    @item.PackageName
                                </div>
                            </div>
                        </div>}
                                    </div> }
                                                } }

                                @if (LeadDetailBlock.Where(x => x.SelectedColumn == "Equipment").Count() > 0 && ((List<HS.Entities.LeadEquipmentDetail>)ViewBag.LeadEquipmentDetail).Count > 0)
                                {
                        <div class="li_info_block li_block_top_margin">
                            <div class="li_header">
                                @Localize.T("Equipment")
                                <a class="SetupClick btn green_button" href="/SmartLeadSetup?id=@Model.Id&setup=Equipment" id="btnEquipment"><i class="fa fa-wrench" aria-hidden="true"></i></a>
                            </div>
                            <table id="tblLeadEquipment" class="ui celled table" cellspacing="0">
                                <thead>
                                    <tr>
                                        <th>@Localize.T("Name")</th>
                                        <th>@Localize.T("Quantity")</th>
                                        <th>@Localize.T("Price")</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in ((List<HS.Entities.LeadEquipmentDetail>)ViewBag.LeadEquipmentDetail))
                                    {
                        <tr>
                            <td>@item.LeadEquipmentName</td>
                            <td>@item.LeadEquipmentQuantity</td>
                            <td>@item.LeadEquipmentPrice</td>
                        </tr>}
                                </tbody>
                            </table>
                        </div>}
                            </div>

                            <div class="lead_details_info_right">
                                @{ if (LeadDetailBlock.Where(x => x.SelectedColumn == "Service").Count() > 0 &&
                                                    ((!string.IsNullOrWhiteSpace(Model.ContractTeam) && Model.ContractTeam != "-1"
                                                    && !string.IsNullOrWhiteSpace(Model.MonthlyMonitoringFee)) || (Model.BillDay != null && Model.BillDay != -1) ||
                                                    !string.IsNullOrWhiteSpace(Model.Passcode) || Model.ActivationFee != null || (!string.IsNullOrWhiteSpace(Model.PaymentMethod) && Model.PaymentMethod != "-1")
                                                    || !string.IsNullOrWhiteSpace(Model.ActivationFeePaymentMethod)))
                                                {
                                    <div class="li_info_block">
                                        <div class="li_header">
                                            @Localize.T("Service")
                                            <a class="SetupClick btn green_button" href="/LeadSetup?id=@Model.Id&setup=Service" id="btnService" title="@Localize.T("Edit Service")"><i class="fa fa-edit" aria-hidden="true"></i></a>
                                        </div>

                                        <div class="li_info_details_block">

                                            @if (!string.IsNullOrWhiteSpace(Model.ContractTeam) && Model.ContractTeam != "-1" && Double.TryParse(Model.ContractTeam, out ContractTerm) && ContractTerm > 0)
                                            {
                            <div class="li_info_details_row custom_row_style">
                                <div class="li_info_details_left">
                                    <label>@Localize.T("Contract Term")</label>
                                </div>
                                <div class="li_info_details_right">
                                    @if (IsDFW)
                                    {
                                        if (Math.Round(ContractTerm, 3) == 0.083)
                                        {
                        <span>1 @Localize.T("Month")</span> }
                                                else
                                                {
                        <span>@Math.Round(ContractTerm * 12, 0) @Localize.T("Months")</span> }
                                            }
                                            else
                                            {
                                                if (Model.ContractTeam == "0.083")
                                                {
                        <span>@(Convert.ToInt32(Math.Round(Convert.ToDouble(Model.ContractTeam) * 12)))  @Localize.T(" month")</span> }
                                                else if (Model.ContractTeam == "1")
                                                {
                        <span>@Model.ContractTeam  @Localize.T(" year")</span> }
                                                else
                                                {
                        <span>@Model.ContractTeam  @Localize.T(" years")</span>}
                                            }
                                </div>
                            </div>}
                                            @if (!string.IsNullOrWhiteSpace(Model.MonthlyMonitoringFee))
                                            {
                            <div class="li_info_details_row custom_row_style">
                                <div class="li_info_details_left">
                                    <label>@Localize.T("MMR fee")</label>
                                </div>
                                <div class="li_info_details_right">
                                    @HS.Web.UI.Helper.LabelHelper.CurrentTransMakeCurrency.MakeCurrency(null)@HS.Web.UI.Helper.LabelHelper.FormatAmount(Convert.ToDouble(Model.MonthlyMonitoringFee))
                                </div>
                            </div>}
                                            @if (Model.BillDay != 0 && Model.BillDay != null && Model.BillDay != -1)
                                            {
                            <div class="li_info_details_row custom_row_style">
                                <div class="li_info_details_left">
                                    <label>@Localize.T("Bill day")</label>
                                </div>
                                <div class="li_info_details_right">
                                    @Model.BillDay
                                </div>
                            </div>}
                                            @if (!string.IsNullOrWhiteSpace(Model.Passcode))
                                            {
                            <div class="li_info_details_row custom_row_style">
                                <div class="li_info_details_left">
                                    <label>@Localize.T("Passcode")</label>
                                </div>
                                <div class="li_info_details_right">
                                    @Model.Passcode
                                </div>
                            </div>}
                                            @if (Model.ActivationFee != 0.0 && Model.ActivationFee != null && Model.ActivationFee != -1)
                                            {
                            <div class="li_info_details_row custom_row_style">
                                <div class="li_info_details_left">
                                    <label>@Localize.T("Activation fee")</label>
                                </div>
                                <div class="li_info_details_right">
                                    @HS.Web.UI.Helper.LabelHelper.CurrentTransMakeCurrency.MakeCurrency(null)@HS.Web.UI.Helper.LabelHelper.FormatAmount(Model.ActivationFee.Value)
                                </div>
                            </div>}
                                            @if (!string.IsNullOrWhiteSpace(Model.PaymentMethod) && Model.PaymentMethod != "-1")
                                            {
                            <div class="li_info_details_left">
                                <label>@Localize.T("MMR method")</label>
                            </div>
                                                <div class="li_info_details_right">
                                                    @Model.PaymentMethod
                                                </div>}
                                            @if (!string.IsNullOrWhiteSpace(Model.ActivationFeePaymentMethod) && Model.ActivationFeePaymentMethod != "-1")
                                            {
                            <div class="li_info_details_row custom_row_style">
                                <div class="li_info_details_left">
                                    <label>@Localize.T("Activation method")</label>
                                </div>
                                <div class="li_info_details_right">
                                    @Model.ActivationFeePaymentMethod
                                </div>
                            </div>}

                                        </div>
                                    </div> } }
                                @if (LeadDetailBlock.Where(x => x.SelectedColumn == "Emergency Contact").Count() > 0 && ((List<HS.Entities.LeadEmergencyDetail>)ViewBag.LeadEmergencyDetail).Count > 0)
                                {
                        <div class="li_info_block li_block_top_margin">
                            <div class="li_header">
                                @Localize.T("Emergency Contact")
                                @*<a class="SetupClick btn green_button" href="/LeadSetup?id=@Model.Id&setup=Emergency" id="btnEmergency" title="@Localize.T("Add / Edit Emergency Contact")"><i class="fa fa-address-book" aria-hidden="true"></i></a>*@
                            </div>

                            <table id="tblLeadEquipment" class="ui celled table" cellspacing="0">
                                <thead>
                                    <tr>
                                        <th>@Localize.T("Name")</th>
                                        <th>@Localize.T("Phone")</th>
                                        <th>@Localize.T("Relation")</th>

                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in ((List<HS.Entities.LeadEmergencyDetail>)ViewBag.LeadEmergencyDetail))
                                    {
                        <tr>
                            <td>@item.ContactName</td>
                            <td><a class="cus-anchor" href="tel:@item.ContactPhone">@HS.Web.UI.Helper.LabelHelper.PhoneNumFormat.Format(item.ContactPhone)</a></td>
                            <td>@item.ContactRelation</td>
                        </tr>}
                                </tbody>
                            </table>
                        </div> } @*@if (((List<HS.Entities.CustomerExistingItem>)ViewBag.CustomerExistingItem).Count == 0)
    {
        <div class="li_info_block li_block_top_margin">
            <div class="li_header" style="height: 45px;">
                @Localize.T("Existing Equipment")
                <button class="btn btn_cf add_customer_file" onclick="AddExistingItem()" style="float: right;" type="button">
                    <i class="fa fa-plus-circle" aria-hidden="true"></i> @Localize.T("Add New")
                </button>
            </div>

            <div class="no_item_div">No Item Found</div>
        </div>
    }
    else
    {
        <div class="li_info_block li_block_top_margin">
            <div class="li_header" style="height: 45px;">
                @Localize.T("Existing Equipment")
                <button class="btn btn_cf add_customer_file" onclick="AddExistingItem()" style="float: right;" type="button">
                    <i class="fa fa-plus-circle" aria-hidden="true"></i> @Localize.T("Add New")
                </button>
            </div>
            <table id="tblLeadEquipment" class="ui celled table" cellspacing="0">
                <thead>
                    <tr>
                        <th>@Localize.T("Item Name")</th>
                        <th>@Localize.T("Quantity")</th>

                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in ((List<HS.Entities.CustomerExistingItem>)ViewBag.CustomerExistingItem))
                    {
                        <tr>
                            <td>@item.ItemName</td>
                            <td>@item.Quantity</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    }*@
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab-pane" id="LeadEstimate"></div>

                <div class="tab-pane" id="convertToCustomer">
                    <div class="custom-space">

                    </div>
                    <div>
                        <div class="lead_details_info_container_Credit_report">
                            <div class="wrapper">
                                <div class="row margin-0">
                                    <div class="col-md-2 cell" id="title_width">@Localize.T("Name")</div>
                                    <div class="col-md-4 cell">  @Model.FirstName @Model.LastName</div>
                                </div>
                                <div class="row margin-0">
                                    <div class="col-md-2 cell" id="title_width">@Localize.T("Cell Phone")</div>
                                    @{
                                        if (Model.CellNo == "")
                                        {
                                            <div class="col-md-4 cell">  @Localize.T("N/A")</div>
                                        }
                                        else
                                        {
                                            <div class="col-md-4 cell">: <a class="cus-anchor" href="tel:@Model.CellNo">@Model.CellNo</a></div>
                                        }
                                    }
                                </div>
                                <div class="row margin-0">
                                    <div class="col-md-2 cell" id="title_width">@Localize.T("Emails Address")</div>
                                    <div class="col-md-4 cell">  @Model.EmailAddress</div>
                                </div>

                                <div class="row margin-0">
                                    <div class="col-md-2 cell" id="title_width">@Localize.T("Time stamp")</div>
                                    <div class="col-md-4 cell">  @Model.LastUpdatedDate</div>
                                </div>

                            </div>

                        </div>
                        <div>
                            <button type="button" id="leadToCustomerConvert" data-id="@Model.Id" idval="@Model.CustomerId" idval1="@Model.FirstName @Model.LastName" idval2="@Model.EmailAddress" class="btn btn-default dropdown-toggle leadToCustomerConvert float-right">
                                @Localize.T("Convert")
                            </button>
                        </div>
                    </div>
                </div>

                <div class="tab-pane" id="noteTab">
                    <div class="LoadLeadNotes">
                    </div>
                </div>

                <div class="tab-pane" id="followUpTab">
                    <div>
                        <div class="FollowUpTabContent" id-val="@Model.CustomerId">

                        </div>
                    </div>
                </div>

                <div class="tab-pane Lead_Send_Email_Tab" id="sendEmailToCorrespondance">

                </div>

                <div class="tab-pane" id="DocumentCenterTab" soldby="@Model.Soldby"></div>
                <div class="tab-pane" id="BookingTab"></div>
                <div class="tab-pane" id="EstimatorTab"></div>
                <div class="tab-pane" id="TicketTab"></div>
                <div class="tab-pane" id="ISPCTab"></div>
                <div class="tab-pane LogTab_Load" id="LogTab"></div>

                @if (ViewBag.LeadTrackingTab == true)
                {
                    <div class="tab-pane" id="TrackingTab"></div>
                }
            </div>

            <div class="displayNone" id="Aggrementpopup">

            </div>
        </div>
    </div>


</div>
<div class="hidden">
    <a class="LoadAgreementPopUp" style="display:none" id="InstallationAgreement" href="@(AppConfig.DomainSitePath)/Leads/GetLeadsForPopUp?LeadId=@Model.Id">@Localize.T("Save & Done ")</a>
    <a class="LoadAgreementPopUp1" href="@(AppConfig.DomainSitePath)/Leads/GetLeadsForIpad?LeadId=@Model.Id" target="_blank">@Localize.T("Save & Done ")</a>
</div>

<div class="displayNone">
    <a href="" class="LeadInfosharespace">@Localize.T("Lead Info share")</a>

    <a href="" class="MapManufacturerMagnific"></a>
</div>