
@using AppConfig = HS.Framework.Utils.AppConfig;
@{
    Layout = null;
    string addressdata1stLine = "";
    string addressdata2ndLine = "";
    string addressdata1stLinePre = "";
    string addressdata2ndLinePre = "";
    var IsSmart = false;
    string MailUrl = "";
    string AgreeUrl = "";
    List<HS.Entities.GlobalSetting> globalSetting = (List<HS.Entities.GlobalSetting>)ViewBag.CustomerUiSetting;
    if (globalSetting.Where(x => x.SearchKey == "LeadSmartSetUp").Count() > 0 && globalSetting.Where(x => x.SearchKey == "LeadSmartSetUp").FirstOrDefault().Value.ToLower() == "true")
    {
        IsSmart = true;
        MailUrl = AppConfig.DomainSitePath + "/SmartLeads/SmartLeadConvertedToCustomerPDFMail/";
        AgreeUrl = AppConfig.DomainSitePath + "/SmartLeads/SmartIAgreeSetup/";
    }
    var LeadSmartSetup = globalSetting.Where(x => x.SearchKey == "LeadSmartSetUp");
}
@using HS.Framework
@using AppConfig = HS.Framework.Utils.AppConfig; 
@model HS.Entities.CustomerListWithCountModel
@using Localize = HS.Web.UI.Helper.LanguageHelper
@using PermissionChekcer = HS.Web.UI.Helper.PermissionHelper
@using Permissions = HS.Framework.UserPermissions
@Styles.Render("~/styles/CustomerListFilter")
@Scripts.Render("~/scripts/CustomerListFilter")

<style>
    .InActiveCustomerNameStyle {
        color: #d71920;
    }
</style>
<script>
    $(document).ready(function () {
        $("#SelectAll").change(function () {
            if ($(this).is(':checked')) {
                $(".CheckItems").each(function () {
                    $(this).prop('checked', true);
                });
            } else {
                $(".CheckItems").each(function () {
                    $(this).prop('checked', false);
                });
            }
        });
        $("#SelectAllIds").change(function () {
            if ($(this).is(':checked')) {
                $(".CheckItems").each(function () {
                    $(this).prop('checked', true);
                });
            } else {
                $(".CheckItems").each(function () {
                    $(this).prop('checked', false);
                });
            }
        });

        
        //parent.$(".spnTotalRMRCount").html(RMRValue);
        //parent.$(".spnTotalRMRValue").html(RMRCount);
        //parent.$(".spnDifferentiate").html("/");
        //parent.$(".spnOpenInvoice").html(OpenInvoiceValue);
        //parent.$(".spnDueInvoice").html(DueInvoiceValue);

        $(".btnSmartLeadSetup").click(function () {
            var valid = $(this).attr('data-id');
            LoadSmartLeadSetup(valid, true)
        })
        $(".btnLeadSetup").click(function () {
            var valid = $(this).attr('data-id');
            LoadLeadSetup(valid, true)
        })
        $("#IsCheckVal1").change(function () {
            console.log("hlw");
            if ($(this).is(':checked')) {
                $(".CheckItemsCustomer").each(function () {
                    $(this).prop('checked', true);
                });
            }
            else {
                $(".CheckItemsCustomer").each(function () {
                    $(this).prop('checked', false);
                });
            }
        })
    })
</script>
@{
    int Count = 1;
}

<div class="filter-customer-container">
    <div class="header-content">
        <div class="custom-table">
            <div class="row less_padding table-head">
                <div class="col-md-1 thead-th-style col_width_big custom_center">
                    <label for="IsCheckVal1" class="label-cbx">
                        <input id="IsCheckVal1" type="checkbox"  style="position:relative;" class="cus-checkBox invisible " autocomplete="off">
                        <div class="checkbox">
                            <svg width="20px" height="20px" viewBox="0 0 20 20">
                                <path d="M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z"></path>
                                <polyline points="4 11 8 15 16 6"></polyline>
                            </svg>
                        </div>
                    </label>
                    
                </div>
                @foreach (var item in (List<HS.Entities.GridSetting>)ViewBag.GridGroupSettings)
                {
            
                    if (item.SelectedColumn == "Customer")
                    {
                        <div onclick="SetSortBy('Customer')" class="col-md-3 thead-th-style col_width_big custom_center">
                            @Localize.T("Customer")
                        </div>
                    }
                    else if (item.SelectedColumn == "Location")
                    {
                        <div onclick="SetSortBy('Location')" class="col-md-2 thead-th-style col_width_big custom_center">
                            @Localize.T("Location")
                        </div>
                    }
                    else if (item.SelectedColumn == "Contact")
                    {
                        <div onclick="SetSortBy('Contact')" class="col-md-2 thead-th-style col_width_big custom_center">
                            @Localize.T("Contact")
                        </div>
                    }
                    else if (item.SelectedColumn == "Status")
                    {
                        <div onclick="SetSortBy('Status')" class="col-md-2 thead-th-style col_width_big custom_center">
                            @Localize.T("Status")
                        </div>
                    }
                    else if (item.SelectedColumn == "Billing")
                    {
                        <div onclick="SetSortBy('Billing')" class="col-md-1 thead-th-style col_width_small custom_center">
                            @Localize.T("Billing")
                        </div>
                    }
                    else if (item.SelectedColumn == "ServiceDate")
                    {
                        <div onclick="SetSortBy('Service Date')" class="col-md-1 thead-th-style col_width_small custom_center">
                            @Localize.T("Service Info")
                        </div>
                    }
                    else if (item.SelectedColumn == "Account")
                    {
                        <div onclick="SetSortBy('Account')" class="col-md-2 thead-th-style col_width_small custom_center">
                            @Localize.T("Account")
                        </div>
                    }
                    else if (item.SelectedColumn == "Activity")
                    {
                        <div onclick="SetSortBy('Activity')" class="col-md-2 thead-th-style col_width_small custom_center">
                            @Localize.T("Activity")
                        </div>
                    }
                    else if (item.SelectedColumn == "Activity")
                    {
                        <div onclick="SetSortBy('Activity')" class="col-md-2 thead-th-style col_width_small custom_center">
                            @Localize.T("Activity")
                        </div>
                    }

                }

                <div class="th-customer hidden" data-info="Name">@Localize.T("Name")</div>
                <div class="th-customer hidden" data-info="Email">@Localize.T("Email Address")</div>
                <div class="th-customer hidden" data-info="BussinessName">@Localize.T("Business Name")</div>
                <div class="th-customer hidden" data-info="Type">@Localize.T("Type")</div>
                <div class="th-customer hidden" data-info="Sales">@Localize.T("Sales Person")</div>
                <div class="th-customer hidden" data-info="Phone">@Localize.T("Primary Phone")</div>
                <div class="th-customer hidden" data-info="City">@Localize.T("City")</div>
                <div class="th-customer hidden" data-info="State">@Localize.T("State")</div>
                <div class="th-customer hidden" data-info="ZipCode">@Localize.T("Zip Code")</div>
                <div class="th-customer hidden" data-info="Address">@Localize.T("Address")</div>
                <div class="th-customer hidden" data-info="Contract">@Localize.T("Contract Term")</div>
                <div class="th-customer hidden" data-info="MMR">@Localize.T("Monthly Monitoring Fee")</div>
                <div class="th-customer hidden" data-info="BillAmount">@Localize.T("Bill Amount")</div>
                <div class="th-customer hidden" data-info="BillCycle">@Localize.T("Bill Cycle")</div>
                <div class="th-customer hidden" data-info="Payment">@Localize.T("Payment Method")</div>
                <div class="th-customer hidden" data-info="Tax">@Localize.T("Tax")</div>
                <div class="th-customer hidden" data-info="CustomerNo">@Localize.T("Customer No")</div>
                <div class="th-customer hidden" data-info="SSN">@Localize.T("SSN")</div>
                <div class="th-customer hidden" data-info="DateofBirth">@Localize.T("Date of Birth")</div>
                <div class="th-customer hidden" data-info="SecondaryPhone">@Localize.T("Secondary Phone")</div>
                <div class="th-customer hidden" data-info="CreditScore">@Localize.T("Credit Score")</div>
                <div class="th-customer hidden" data-info="FundingCompany">@Localize.T("Funding Company")</div>
                <div class="th-customer hidden" data-info="LeadSource">@Localize.T("Lead Source")</div>
                <div class="th-customer hidden" data-info="CustomerFunded">@Localize.T("Customer Funded")</div>
                <div class="th-customer hidden" data-info="Maintenance">@Localize.T("Maintenance")</div>
                <div class="th-customer hidden" data-info="Note">@Localize.T("Note")</div>
                <div class="th-customer hidden" data-info="SalesDate">@Localize.T("Sales Date")</div>
                <div class="th-customer hidden" data-info="InstallDate">@Localize.T("Install Date")</div>
                <div class="th-customer hidden" data-info="CutInDate">@Localize.T("Cut In Date")</div>
                <div class="th-customer hidden" data-info="Installer">@Localize.T("Installer")</div>
                <div class="th-customer hidden" data-info="FundingDate">@Localize.T("Funding Date")</div>
                <div class="th-customer hidden" data-info="JoinDate">@Localize.T("Join Date")</div>
                <div class="th-customer hidden" data-info="Note">@Localize.T("Note")</div>
                <div class="th-customer hidden" data-info="BillDay">@Localize.T("Bill Day")</div>
                <div class="th-customer hidden" data-info="SecondCustomerNo">@Localize.T("Second Customer No")</div>
                <div class="th-customer hidden" data-info="AdditionalCustomerNo">@Localize.T("Additional Customer No")</div>
                <div class="th-customer hidden" data-info="ActivationFee">@Localize.T("Activation Fee")</div>
                <div class="th-customer hidden" data-info="FirstBilling">@Localize.T("First Billing")</div>
                <div class="th-customer hidden" data-info="DBA">@Localize.T("DBA")</div>
                <div class="th-customer hidden" data-info="IsAgreement">@Localize.T("Agreement")</div>
                <div class="th-customer hidden" data-info="BranchId">@Localize.T("BranchId")</div>
                <div class="th-customer hidden" data-info="LastUpdatedDate">@Localize.T("Last Updated Date")</div>
            </div>

            <div class="tbody-container">
                @{ var CusList = Model.CustomerList;

                    foreach (var item in CusList)
                    {
                        <div class="row less_padding tr-style Export_excel_customer @(Count % 2 == 0 ? "even-row-style" : "")" data-id="@item.Id">
                            <div class="table-body-td-style col-md-1 col_width_big" valign="top">
                                <label for="pp_@item.Id" class="label-cbx">
                                    <input id="pp_@item.Id" idval="@item.Id" type="checkbox" class="CheckItemsCustomer invisible" value="@item.Id">
                                    <div class="checkbox">
                                        <svg width="20px" height="20px" viewBox="0 0 20 20">
                                            <path d="M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z"></path>
                                            <polyline points="4 11 8 15 16 6"></polyline>
                                        </svg>
                                    </div>
                                </label>
                            </div>
                            @foreach (var setting in (List<HS.Entities.GridSetting>)ViewBag.GridGroupSettings)
                            {
                                if (setting.SelectedColumn == "Customer")
                                {

                                    <div class="table-body-td-style col-md-3 col_width_big" valign="top">

                                        <div class="cl_heading_for_mobile">@Localize.T("Customer")</div>
                                        <div class="cl_for_mobile_data">
    
                                                <a class="name-anchor-style customer-name-click-anchor-style" href="@(AppConfig.DomainSitePath)/Customer/Customerdetail/?id=@item.Id" onclick="ShowCustomerDetail(this , event)" id="@(item.Id)" id-val="@item.CustomerId">
                                                    @{
                                                        var LinkFormattedName = "";

                                                        if (item.Type == "Commercial")
                                                        {
                                                            if (item.BusinessName != "")
                                                            {
                                                                LinkFormattedName = item.BusinessName;
                                                            }
                                                            else
                                                            {
                                                                if (item.MiddleName != "")
                                                                {
                                                                    LinkFormattedName = item.FirstName + " " + item.MiddleName + " " + item.LastName;
                                                                }
                                                                else
                                                                {
                                                                    LinkFormattedName = item.FirstName + " " + item.LastName;
                                                                }
                                                            }
                                                        }
                                                        else
                                                        {
                                                            if (item.MiddleName != "")
                                                            {
                                                                LinkFormattedName = item.FirstName + " " + item.MiddleName + " " + item.LastName;
                                                            }
                                                            else
                                                            {
                                                                LinkFormattedName = item.FirstName + " " + item.LastName;
                                                            }
                                                        }
                                                    }
                                                    @{
                                                        if (item.IsActive.Value)
                                                        {
                                                            <p>@LinkFormattedName</p>
                                                        }
                                                        if (!item.IsActive.Value)
                                                        {
                                                            <p class="InActiveCustomerNameStyle"><strike>@LinkFormattedName</strike></p>
                                                        }
                                                    }
                                                </a>

                                                @{
                                                    if (item.Type != "-1" && item.Type != "")
                                                    {
                                                        <p>@Localize.T("Type: ") <span>@item.Type</span></p>
                                                    }
                                                    if (!string.IsNullOrWhiteSpace(item.CustomerNo))
                                                    {
                                                        <p>
                                                            @Localize.T("ID: ") <span>@item.Id <b>Acct: @item.CustomerNo</b></span>
                                                        </p>
                                                    }
                                                    else
                                                    {
                                                        <p>
                                                            @Localize.T("ID: ") <span>@item.Id</span>
                                                        </p>
                                                    }

                                                    @*if (item.PlatformId != "")
                                                    {
                                                        <p>
                                                            @Localize.T("Platform ID"): <span>@item.AgemniId</span>
                                                        </p>
                                                    }*@
                                                } 
                                        </div>
                                    </div>
                                }
                                else if (setting.SelectedColumn == "Location")
                                {

                                    <div class="table-body-td-style col-md-2 col_width_big" valign="top">
                                        @if (!string.IsNullOrWhiteSpace(item.Street) && item.Street.Trim() != "," && item.FirstName != "Caller")
                                        {
                                            addressdata1stLine = string.Format("{0}", item.Street);
                                            var StateAddress = "";
                                            if (item.State != "")
                                            {
                                                StateAddress = item.State;
                                            }
                                            addressdata2ndLine = string.Format("{0}, {1} {2}", item.City, StateAddress, item.ZipCode);
                                            @*<span><img class="addressMapPopup" data-id="@item.CustomerId" src="~/Content/img/location.png" /></span><p>@addressdata1stLine,</p><p>@addressdata2ndLine</p>*@
                                            @*<p><span data-id="@item.CustomerId">&nbsp;@addressdata1stLine, @addressdata2ndLine</span></p>*@
                                            <div class="cl_heading_for_mobile">@Localize.T("Location")</div>
                                            <div class="cl_for_mobile_data">
                                                <span>
                                                    @if (!string.IsNullOrWhiteSpace(addressdata1stLine))
                                                    {
                                                        @addressdata1stLine <br /> @addressdata2ndLine
                                                    }
                                                    else
                                                    {
                                                        @addressdata2ndLine
                                                    }
                                                </span>
                                                @if (!string.IsNullOrWhiteSpace(item.PrimaryPhone))
        {
                                                    <p>@Localize.T("Ph: ") <span>@item.PrimaryPhone</span></p>
                                                }
                                            </div>
                                        }
                                        else
                                        {
                                            if (!string.IsNullOrWhiteSpace(item.PrimaryPhone))
                                            {
                                                <p>@Localize.T("Ph: ") <span>@item.PrimaryPhone</span></p>
                                            }
                                        }
                                    </div>
                                }

                                else if (setting.SelectedColumn == "Contact")
                                {
                                    <div class="col-md-2 table-body-td-style col_width_big" valign="top">
                                        <div class="cl_heading_for_mobile">@Localize.T("Contact")</div>
                                        <div class="cl_for_mobile_data">
                                            @if (!string.IsNullOrWhiteSpace(item.PrimaryPhone))
                                            {
                                                <p>@item.PrimaryPhone</p>
                                            }
                                            @if (!string.IsNullOrWhiteSpace(item.EmailAddress))
                                            {
                                                <p class="email-format">@item.EmailAddress</p>
                                            }
                                        </div>
                                    </div>
                                }
                                else if (setting.SelectedColumn == "Status")
                                {
                                    <div class="col-md-2 table-body-td-style col_width_big" valign="top">
                                        <div class="cl_heading_for_mobile">@Localize.T("Status")</div>
                                        <div class="cl_for_mobile_data">
                                            @if (item.InstallDate.HasValue && item.InstallDate != new DateTime())
                                            {
                                                <p>@Localize.T("Install Date: ") @item.InstallDate.Value.ToString("MM/dd/yy")</p>
                                            }
                                            @{
                                                if (item.MonthlyMonitoringFee != "-1" && item.PaymentMethod != "-1" && item.MonthlyMonitoringFee != "" && item.PaymentMethod != "")
                                                {
                                                    <p>Billing: Yes</p>
                                                }
                                                else
                                                {
                                                    <p>Billing: No</p>
                                                }
                                            }
                                            @if (item.MonthlyMonitoringFee != "" && item.MonthlyMonitoringFee != "-1")
                                            {
                                                <p>Monitoring Fee: @HS.Web.UI.Helper.LabelHelper.CurrentTransMakeCurrency.MakeCurrency(null)@HS.Web.UI.Helper.LabelHelper.FormatAmount(Convert.ToDouble(item.MonthlyMonitoringFee))</p>
                                            }
                                       
                                        </div>
                                        @if (!string.IsNullOrEmpty(item.SubscriptionStatus))
                                        {
                                            if (item.SubscriptionStatus == "suspended")
                                            {
                                                <p style="color:#A32E41">Subscription Status: @item.SubscriptionStatus</p>
                                            }
                                            else
                                            {
                                                <p>Subscription Status: @item.SubscriptionStatus</p>
                                            }
                                        }

                                                            
                                    </div>
                                }
                                else if (setting.SelectedColumn == "Billing")
                                {
                                    <div class="col-md-1 table-body-td-style col_width_small" valign="top">
                                        <div class="cl_heading_for_mobile">@Localize.T("Billing")</div>
                                        <div class="cl_for_mobile_data">
                                            @{
                                                if (item.MonthlyMonitoringFee != "-1")
                                                {
                                                    <p>@HS.Web.UI.Helper.LabelHelper.CurrentTransMakeCurrency.MakeCurrency(null)@item.MonthlyMonitoringFee</p>
                                                }
                                            }
                                            @{
                                                if (item.PaymentMethod != "-1")
                                                {
                                                    <p>@item.PaymentMethod</p>
                                                }

                                            }
                                        </div>
                                    </div>
                                }
                                else if (setting.SelectedColumn == "Account")
                                {
                                    <div class="col-md-2 table-body-td-style col_width_small" valign="top">
                                        <div class="cl_heading_for_mobile">@Localize.T("Account")</div>
                                        <div class="cl_for_mobile_data">
                                            @if (item.PaymentMethod != "-1" && item.PaymentMethod != "")
                                            {
                                                <p>@Localize.T("Payment: ")@item.PaymentMethod</p>
                                            }
                                            @if (item.UnpaidInvoiceTotal != 0.0)
                                            {
                                                <p class="red">@Localize.T("Unpaid Amount: ")@HS.Web.UI.Helper.LabelHelper.CurrentTransMakeCurrency.MakeCurrency(null)@HS.Web.UI.Helper.LabelHelper.FormatAmount(item.UnpaidInvoiceTotal)</p>
                                            }
                                        </div>
                                    </div>
                                }

                                else if (setting.SelectedColumn == "Service Date")
                                {
                                    <div class="col-md-1 table-body-td-style col_width_small" valign="top">
                                        <div class="cl_heading_for_mobile">@Localize.T("Service Info")</div>

                                        <div class="cl_for_mobile_data">
                                            @if (item.Soldby == " " && item.ServiceDate == Convert.ToDateTime("01/01/0001"))
                                            {
                                                <p>-</p>
                                            }
                                            else
                                            {
                                                if (item.Soldby != " ")
                                                {
                                                    <p> @Localize.T("Service Person : ") @item.Soldby</p>
                                                }

                                                if (item.ServiceDate != Convert.ToDateTime("1/1/0001"))
                                                {
                                                    <p>@Localize.T("Service Date :") @item.ServiceDate.Value.ToString("MM/dd/yy")</p>
                                                }
                                            }
                                        </div>

                                    </div>

                                }

                                else if (setting.SelectedColumn == "Activity")
                                {
                                    <div class="col-md-2 table-body-td-style col_width_small" valign="top">
                                        <div class="cl_heading_for_mobile">@Localize.T("Activity")</div>

                                        <div class="cl_for_mobile_data">
                                            @{
                                                string FullNameAggrement = item.Id + "Agreement.Pdf";
                                                if (item.JoinDate.HasValue && item.JoinDate.Value != new DateTime())
                                                {
                                                    <p>@Localize.T("Join Date: ")@item.JoinDate.Value.UTCToClientTime().ToString("MM/dd/yy")</p>
                                                }
                                                if (item.FundingCompany != "-1" && item.FundingCompany != "")
                                                {
                                                    <p>@Localize.T("Montored by: ")@item.FundingCompany</p>
                                                }
                                                if (item.IsAgreement == true)
                                                {
                                                    <p>@Localize.T("Agreement: Yes")</p>
                                                }
                                                else
                                                {
                                                    <p>@Localize.T("Agreement: No")</p>
                                                }
                                                var MaintenanceResult = "";
                                                if (item.Maintenance == true)
                                                {
                                                    MaintenanceResult = "Yes";
                                                    <p>@Localize.T("Maintenance: ") @MaintenanceResult</p>
                                                }
                                                else
                                                {
                                                    MaintenanceResult = "No";
                                                    <p>@Localize.T("Maintenance: ") @MaintenanceResult</p>
                                                }
                                            }
                                        </div>

                                    </div>
                                }
                            }
                            @*<div class="col-md-2 table-body-td-style col_width_small" valign="top">
                                <div class="cl_heading_for_mobile">@Localize.T("Action")</div>

                                <div class="cl_for_mobile_data">

                                    <div class="ActionsDivLeads ActionsDivLeads_custom">
                                        <div class="btn-group black-border" style="margin-left: -30px;">
                                            @if (item.IsAgreement == false)
                                            {
                                                @*<button class="btn background-color-ffffff " onclick="LoadCustomerDetail(@item.Id)" data-id="@item.Id">
                                                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i> @Localize.T("Edit")
                                                    </button>

                                            if (LeadSmartSetup.Count() > 0 && LeadSmartSetup.FirstOrDefault().Value.ToLower() == "true")
                                            {
                                                <button class="btn background-color-ffffff btnSmartLeadSetup" href="javascript:void(0)" data-id="@item.Id">
                                                    <i class="fa fa-cog" aria-hidden="true"></i> @Localize.T("Smart Setup")
                                                </button>
                                            }
                                            else
                                            {
                                                <button class="btn background-color-ffffff btnLeadSetup" data-id="@item.Id">
                                                    <i class="fa fa-cog" aria-hidden="true"></i> @Localize.T("Setup")
                                                </button>
                                                }
                                            }
                                            @*<button data-toggle="dropdown" class="btn dropdown-toggle background-color-ffffff" type="button">
                                                <span class="caret"></span>
                                                </button>
                                                <ul style="min-width:inherit;width:115px; margin-top:0px !important; border-radius:4px !important; border-color: #b1b4bb !important;" class="dropdown-menu customer-dropdown-ul-style">

                                                @*<li><a class="dropallign" href="javascript:void(0)" onclick="LoadRequestTechnician(@item.Id)">@Localize.T("Request Technician")</a></li>*@
                            @*<li><a class="dropallign" href="javascript:void(0)" onclick="LoadLeadDocumentCenter(@item.Id)">@Localize.T("Document Center")</a></li>
                                                    @{var LeadSmartSetup = globalSetting.Where(x => x.SearchKey == "LeadSmartSetUp");

                                                    if (LeadSmartSetup.Count() > 0 && LeadSmartSetup.FirstOrDefault().Value.ToLower() == "true")
                                                    {
                                                    <li>
                                                    <a class="dropallign btnSmartLeadSetup" href="javascript:void(0)" data-id="@item.Id">
                                                    <i class="fa fa-cog" aria-hidden="true"></i> @Localize.T("Smart Setup")
                                                    </a>
                                                    </li>
                                                    }
                                                    else
                                                    {
                                                    <li>
                                                    <a class="dropallign btnLeadSetup" href="javascript:void(0)" data-id="@item.Id">
                                                    <i class="fa fa-cog" aria-hidden="true"></i> @Localize.T("Setup")
                                                    </a>
                                                    </li>
                                                    }
                                                    }
                                                    </ul>
                                            </div>
                                        </div>
                                        @{var LeadSmartSetup = globalSetting.Where(x => x.SearchKey == "LeadSmartSetUp");

                                            if (LeadSmartSetup.Count() > 0 && LeadSmartSetup.FirstOrDefault().Value.ToLower() == "true")
                                            {
                                            <div class="col-md-1 table-body-td-style col_width_small" valign="top">
                                            @*<div class="cl_heading_for_mobile">@Localize.T("Action")</div>
                                            <a class="dropallign btnSmartLeadSetup" href="javascript:void(0)" data-id="@item.Id">
                                            <i class="fa fa-cog" aria-hidden="true"></i> @Localize.T("Smart Setup")
                                            </a>
                                            </div>
                                            }
                                            else
                                            {
                                            <p class="col-md-1 table-body-td-style col_width_small" valign="top">
                                            @*<div class="cl_heading_for_mobile">@Localize.T("Action")</div>
                                            <a class="dropallign btnLeadSetup" href="javascript:void(0)" data-id="@item.Id">
                                            <i class="fa fa-cog" aria-hidden="true"></i> @Localize.T("Setup")
                                            </a>
                                            </p>
                                            @*}
                                            }
                                        @*}
                                    </div>
                                </div>*@
                        </div>

                                                                                                                        Count++;
                                                                                                                    }
                }
            </div>
            @*<div style="display:none">
                @foreach (var item in ViewBag.idList)
                {
                <div class="Export_excel_customerList" data-id="@item.customerId"></div>
                }
                </div>*@
            <table class="data-table display" id="tblCustomerList"></table>
        </div>
    </div>
</div>

<div class="AgentListPagination">
    <div class="paginationContainer">
        @if (ViewBag.PageCount > 0)
        {
            <div class="paginationtextdv"><span>@HS.Web.UI.Helper.LabelHelper.NumberFormat(ViewBag.CurrentNumber) of @HS.Web.UI.Helper.LabelHelper.NumberFormat(ViewBag.OutOfNumber)</span></div>
        }
        @if (ViewBag.PageCount == 1)
        {
            <div class="paginationMiddleButtondv">
                <button class="PaginationButtons disabledBtn">Previous</button>
            </div>
            <div class="NavigatonButtonsDiv">
                <button class="NavigationButton activeBtn" onclick="CustomerSearchKeyUp(@(ViewBag.PageNumber))">1</button>
            </div>
            <div class="paginationRightButtondv">
                <button class="PaginationButtons disabledBtn">Next</button>
            </div>
        }
        else if (ViewBag.PageCount == 2)
        {
            <div class="paginationMiddleButtondv">
                <button class="PaginationButtons @(ViewBag.PageNumber==1?"disabledBtn":"")" onclick="CustomerSearchKeyUp(@(ViewBag.PageNumber!=1?ViewBag.PageNumber-1:""))">Previous</button>
            </div>
            <div class="NavigatonButtonsDiv">
                <button class="NavigationButton @(ViewBag.PageNumber==1?"activeBtn":"")" onclick="CustomerSearchKeyUp(1)">1</button>
            </div>
            <div class="NavigatonButtonsDiv">
                <button class="NavigationButton @(ViewBag.PageNumber==2?"activeBtn":"")" onclick="CustomerSearchKeyUp(2)">2</button>
            </div>
            <div class="paginationRightButtondv">
                <button class="PaginationButtons @(ViewBag.PageNumber==2? "disabledBtn" : "")" onclick="CustomerSearchKeyUp(@(ViewBag.PageNumber!=2?ViewBag.PageNumber+1:""))">Next</button>
            </div>
        }
        else if (ViewBag.PageCount == 3 || (ViewBag.PageNumber == 1 && ViewBag.PageCount == 3))
        {
            <div class="paginationMiddleButtondv">
                <button class="PaginationButtons @(ViewBag.PageNumber==1?"disabledBtn":"")" onclick="CustomerSearchKeyUp(@(ViewBag.PageNumber!=1?ViewBag.PageNumber-1:""))">Previous</button>
            </div>
            <div class="NavigatonButtonsDiv">
                <button class="NavigationButton @(ViewBag.PageNumber==1?"activeBtn":"")" onclick="CustomerSearchKeyUp(1)">1</button>
            </div>
            <div class="NavigatonButtonsDiv">
                <button class="NavigationButton @(ViewBag.PageNumber==2?"activeBtn":"")" onclick="CustomerSearchKeyUp(2)">2</button>
            </div>
            <div class="NavigatonButtonsDiv">
                <button class="NavigationButton @(ViewBag.PageNumber==3?"activeBtn":"")" onclick="CustomerSearchKeyUp(3)">3</button>
            </div>
            <div class="paginationRightButtondv">
                <button class="PaginationButtons @(ViewBag.PageNumber==3?"disabledBtn":"")" onclick="CustomerSearchKeyUp(@(ViewBag.PageNumber!=3?ViewBag.PageNumber+1:""))">Next</button>
            </div>
        }
        else if (ViewBag.PageCount > 3)
        {
            if (ViewBag.PageNumber == ViewBag.PageCount)
            {
                <div class="paginationMiddleButtondv">
                    <button class="PaginationButtons" onclick="CustomerSearchKeyUp(@(ViewBag.PageNumber-1))">Previous</button>
                </div>
                <div class="NavigatonButtonsDiv">
                    <button class="NavigationButton" onclick="CustomerSearchKeyUp(@(ViewBag.PageNumber-2))">@(ViewBag.PageNumber - 2)</button>
                </div>
                <div class="NavigatonButtonsDiv">
                    <button class="NavigationButton" onclick="CustomerSearchKeyUp(@(ViewBag.PageNumber-1))">@(ViewBag.PageNumber - 1)</button>
                </div>
                <div class="NavigatonButtonsDiv">
                    <button class="NavigationButton activeBtn" onclick="CustomerSearchKeyUp(@(ViewBag.PageNumber))">@(ViewBag.PageNumber)</button>
                </div>
                <div class="paginationRightButtondv">
                    <button class="PaginationButtons disabledBtn" onclick="CustomerSearchKeyUp()">Next</button>
                </div>
            }
            else if (ViewBag.PageNumber == 1)
            {
                <div class="paginationMiddleButtondv">
                    <button class="PaginationButtons" onclick="CustomerSearchKeyUp(@(ViewBag.PageNumber-1))">Previous</button>
                </div>
                <div class="NavigatonButtonsDiv">
                    <button class="NavigationButton activeBtn">@(ViewBag.PageNumber)</button>
                </div>
                <div class="NavigatonButtonsDiv">
                    <button class="NavigationButton" onclick="CustomerSearchKeyUp(@(ViewBag.PageNumber+1))">@(ViewBag.PageNumber + 1)</button>
                </div>
                <div class="NavigatonButtonsDiv">
                    <button class="NavigationButton" onclick="CustomerSearchKeyUp(@(ViewBag.PageNumber + 2))">@(ViewBag.PageNumber + 2)</button>
                </div>
                <div class="paginationRightButtondv">
                    <button class="PaginationButtons" onclick="CustomerSearchKeyUp(@(ViewBag.PageNumber+1))">Next</button>
                </div>
            }
            else if (ViewBag.PageNumber == 2)
            {
                <div class="paginationMiddleButtondv">
                    <button class="PaginationButtons" onclick="CustomerSearchKeyUp(@(ViewBag.PageNumber-1))">Previous</button>
                </div>
                <div class="NavigatonButtonsDiv">
                    <button class="NavigationButton" onclick="CustomerSearchKeyUp(@(ViewBag.PageNumber-1))">@(ViewBag.PageNumber - 1)</button>
                </div>
                <div class="NavigatonButtonsDiv">
                    <button class="NavigationButton activeBtn">@(ViewBag.PageNumber)</button>
                </div>
                <div class="NavigatonButtonsDiv">
                    <button class="NavigationButton" onclick="CustomerSearchKeyUp(@(ViewBag.PageNumber + 1))">@(ViewBag.PageNumber + 1)</button>
                </div>
                <div class="paginationRightButtondv">
                    <button class="PaginationButtons" onclick="CustomerSearchKeyUp(@(ViewBag.PageNumber+1))">Next</button>
                </div>
            }
            else
            {
                <div class="paginationMiddleButtondv">
                    <button class="PaginationButtons" onclick="CustomerSearchKeyUp(@(ViewBag.PageNumber-1))">Previous</button>
                </div>
                <div class="NavigatonButtonsDiv">
                    <button class="NavigationButton" onclick="CustomerSearchKeyUp(@(ViewBag.PageNumber - 1))">@(ViewBag.PageNumber - 1)</button>
                </div>
                <div class="NavigatonButtonsDiv">
                    <button class="NavigationButton activeBtn" onclick="CustomerSearchKeyUp(@(ViewBag.PageNumber))">@(ViewBag.PageNumber)</button>
                </div>
                <div class="NavigatonButtonsDiv">
                    <button class="NavigationButton" onclick="CustomerSearchKeyUp(@(ViewBag.PageNumber + 1))">@(ViewBag.PageNumber + 1)</button>
                </div>
                <div class="paginationRightButtondv">
                    <button class="PaginationButtons" onclick="CustomerSearchKeyUp(@(ViewBag.PageNumber+1))">Next</button>
                </div>
            }
        }
    </div>
</div>



<div class="displayNone">
    <a href="" class="MapManufacturerMagnific">@Localize.T("Address in Map")</a>
</div>
